(window.webpackJsonp=window.webpackJsonp||[]).push([["DataLocationModal"],{"2VoN":function(e,t){e.exports="//static.hsappstatic.net/growth-onboarding-shared-components/static-1.12160/images/dataSync/google-contacts.svg"},"Kna/":function(e,t){e.exports="//static.hsappstatic.net/growth-data-modal/static-1.291/images/outlook-exchange-contacts.svg"},"Stt/":function(e,t){e.exports="//static.hsappstatic.net/growth-data-modal/static-1.291/images/google-contacts.svg"},cRwj:function(e,t){e.exports="//static.hsappstatic.net/growth-onboarding-shared-components/static-1.12160/images/dataSync/outlook-exchange-contacts.svg"},kMAW:function(e,t){e.exports="//static.hsappstatic.net/growth-data-modal/static-1.291/images/google-oauth-permission-warning-en.png"},tHAq:function(e,t,a){"use strict";var n=a("VfuR"),s=a.n(n),o=a("/BSp");let i,r;function c(){i||(i=[]);return i}function l(){r||(r=s.a.oneOf(c()));return Object(o.a)(r,"logoName")}var d=a("Pnne"),p=a("QgEn");const u=e=>Object(p.jsx)(d.a,Object.assign({},e));u.defaultProps=d.a.defaultProps;u.propTypes=Object.assign({},d.a.propTypes,{name:l().isRequired});u.displayName="UILogo";t.a=u},tZqp:function(e,t){e.exports={"app-management":{namespace:"data-sync",name:"app-management",class:"usage",properties:{applicationId:"number",source:"string",action:["APP_CONNECTED","APP_RECONNECTED"]}},"sync-setup":{namespace:"data-sync",name:"sync-setup",class:"interaction",properties:{applicationId:"number",applicationName:"string",action:["START_SYNC_SETUP","DEFER_SYNC_SETUP","SELECT_OBJECT_TO_SYNC","CONFIRM_OBJECT_SECLECTION","CHOOSE_OBJECT_SEGMENT","ADD_CUSTOM_MAPPING","TOGGLE_DEFAULT_MAPPING","CHOOSE_CONFLICT_RESOLUTION","MANAGE_DUPLICATES","ADD_REMOTE_FILTER","ADD_HUBSPOT_FILTER"]}}}},w2M9:function(e,t,a){"use strict";a.r(t);var n=a("Ktcs"),s=a("mEYk"),o=a.n(s),i=a("joGc"),r=a("qS8i"),c=a("BiPx"),l=a("AuX0"),d=a("6A2w"),p=a("iJaT"),u=a("NfVS"),h=a("sl/w"),m=a("77dM"),g=a("x1f2"),j=a("vLjm"),b=a("VfuR"),O=a.n(b),x=a("9f1P"),f=a.n(x),y=a("npjq"),v=a("t6nY"),S=a.n(v),C=a("Pf7D"),w=a("3T31"),k=a("cj42"),A=a("tUDx"),I=a("QgEn");const N=["className","grow","minHeight","style","title"],T=Object(x.keyframes)(["25%{background-color:",";}75%{background-color:",";}"],C.q,C.q);let _=Object(x.keyframes)(["0%,100%{transform:translateY(0);}25%{transform:translateY(.25em);}50%{transform:translateY(0);}75%{transform:translateY(-.25em);}"]);Object(w.c)()&&(_=Object(x.keyframes)(["0%,100%{top:0;}25%{top:.25em;}50%{top:0}75%{top:-.25em;}"]));const E=f.a.div.withConfig({displayName:"UILoadingDots__Dot",componentId:"d42gts-0"})(["position:relative;background-color:currentColor;color:",";border-radius:50%;height:1em;width:1em;animation:",",",";animation-duration:1s;animation-timing-function:linear;animation-iteration-count:infinite;&:not(:last-child){margin-right:0.75em;}&:nth-child(2){animation-delay:-0.66s;}&:nth-child(3){animation-delay:-0.33s;}"],C.p,_,T),M=f.a.div.withConfig({displayName:"UILoadingDots__LoadingDots",componentId:"d42gts-1"})(["display:flex;align-items:center;justify-content:center;height:1.25em;width:4.5em;",";"],e=>e.grow&&"width: 100%; height: 100%;"),P=()=>y.a.text("salesUI.UILoading.title"),D=(e,t)=>e?Object.assign({},t,{minHeight:e}):t;function L(e){const{className:t,grow:a=!0,minHeight:n,style:s,title:o=(()=>y.a.text("salesUI.UILoading.title"))}=e,i=Object(j.a)(e,N);return Object(I.jsxs)(M,Object.assign({className:S()(t,"uiLoading",a&&"uiLoading-grow"),"data-loading":!0,style:D(n,s),title:Object(A.a)(o),grow:a},i,{children:[Object(I.jsx)(E,{className:"uiLoadingDot dot-1"}),Object(I.jsx)(E,{className:"uiLoadingDot dot-2"}),Object(I.jsx)(E,{className:"uiLoadingDot dot-3"})]}))}L.propTypes={grow:O.a.bool.isRequired,minHeight:O.a.oneOfType([O.a.number,O.a.string]),title:Object(k.a)(O.a.string).isRequired};L.defaultProps={grow:!0,title:P};L.displayName="UILoadingDots";var U=a("LTV0"),R=a("kAwc"),z=a("02LW"),W=a("Agbq"),q=a("TPCz"),F=a("tAwj");const $=["label"],G=["label"],B=["contextual","use","minHeight","label","title"],H=f()(R.a.defaultProps.Inner).withConfig({displayName:"UILoadingOverlay__OverlayInnerWrapper",componentId:"n4sjnp-0"})(["display:flex;justify-content:center;align-items:center;height:100%;"]),K="spinner",J={dots:{Component(e){let{label:t}=e,a=Object(j.a)(e,$);return Object(I.jsx)(L,Object.assign({},a,{title:t}))}},spinner:{Component(e){let{label:t}=e,a=Object(j.a)(e,G);return Object(I.jsx)(U.a,Object.assign({},a,{label:t}))}}};function Y(e){if(null!=e)return{minHeight:Object(W.k)(e)}}class V extends n.Component{constructor(e){super(e);this._getOverlayStyles=Object(z.a)(Y)}render(){const e=this.props,{contextual:t,use:a,minHeight:n,label:s,title:o}=e,i=Object(j.a)(e,B),r=(J[a]||J[K]).Component;return Object(I.jsx)(R.a,{centerContent:!1,contextual:t,Inner:H,use:"light",width:100,style:this._getOverlayStyles(n),children:Object(I.jsx)(r,Object.assign({},i,{label:s||o}))})}}V.displayName="UILoadingOverlay";V.propTypes=Object.assign({},Object(F.a)({propTypes:U.a.propTypes,defaultProps:U.a.defaultProps}),Object(F.a)({propTypes:L.propTypes,defaultProps:L.defaultProps}),{minHeight:O.a.oneOfType([O.a.number,O.a.string]),title:Object(q.a)(Object(q.b)(L.propTypes.title)),contextual:R.a.propTypes.contextual,use:O.a.oneOf(Object.keys(J)),label:Object(q.b)(U.a.propTypes.label)});V.defaultProps={use:K,contextual:!1,showLabel:!1};var Z=a("nDpY"),Q=a.n(Z),X=a("CE3l"),ee=a("LZPL"),te=a.n(ee),ae=a("g+dq"),ne=a.n(ae),se=a("+KD7"),oe=a("13qF"),ie=a("wd43"),re=a("5mtX"),ce=a("xWVl");const le={compact:!1},de=Object(n.createContext)(le),{Provider:pe}=de,ue=["children","className","closeable","compact","onClose"],he={compact:!0},me=Object(x.css)([".private-tile + &{margin-top:16px;}"]),ge=f.a.div.withConfig({displayName:"UITile__Tile",componentId:"dhm49o-0"})(["position:relative;",";background-color:",";border:1px solid ",";",";",""],Object(W.c)(),se.OLAF,se.GREAT_WHITE,({distance:e})=>e&&Object(W.d)(e),({distance:e})=>!e&&me),je=f()(re.a).withConfig({displayName:"UITile__CloseButton",componentId:"dhm49o-1"})(["right:12px;top:12px;"]);function be(e){let{children:t,className:a,closeable:n,compact:s,onClose:o}=e,i=Object(j.a)(e,ue);return Object(I.jsx)(pe,{value:s?he:le,children:Object(I.jsxs)(ge,Object.assign({},i,{className:S()("private-tile",a),children:[n?Object(I.jsx)(je,{color:se.FLINT,onClick:o,size:"sm"}):null,t]}))})}be.displayName="UITile";be.propTypes={children:O.a.node.isRequired,closeable:O.a.bool.isRequired,compact:O.a.bool.isRequired,distance:O.a.oneOfType([ce.a,O.a.oneOf(["flush"])]),onClose:O.a.func};be.defaultProps={closeable:!1,compact:!1};const Oe=["className"],xe=Object(x.css)(["padding-left:0;padding-right:0;"]),fe=f.a.div.withConfig({displayName:"UITileSection__TileSection",componentId:"qtl81l-0"})(["padding:",";"," .private-tile__section + &{padding-top:0;}"],({compact:e})=>e?"20px":"32px",({flush:e})=>e&&xe);function ye(e){let{className:t}=e,a=Object(j.a)(e,Oe);const{compact:s}=Object(n.useContext)(de);return Object(I.jsx)(fe,Object.assign({},a,{className:S()("private-tile__section has--vertical-spacing",t),compact:s}))}ye.defaultProps={flush:!1};ye.propTypes={children:O.a.node,flush:O.a.bool};ye.displayName="UITileSection";var ve=a("Dau1");function Se(e){return Object(ve.buildUrl)({path:"/api/sync-bridge/v5/apps/"+e})}const Ce=e=>`/api/integration-auth-flows/v1/apps/${e}/config`,we=(e,t)=>`/api/integration-auth-flows/v1/authenticators/${e}/config?appName=${t}`;var ke=a("dIda"),Ae=a("yYAF"),Ie=a("Jraf"),Ne=a("DqRu"),Te=a("pbrb"),_e=a("b6cK"),Ee=a("F1z2"),Me=a("LqZr"),Pe=a("88tZ"),De=a("3Shb"),Le=a("FeM/"),Ue=a("uzdC"),Re=a("V4AE"),ze=a("DSKb"),We=a("LkYt"),qe=a("PQdV"),Fe=(a("YMCi"),a("DFoL"),a("8xUB")),$e=a("5zIw"),Ge=a("4KXe"),Be=a("O+Lw"),He=a("z8qM");const Ke=["children","disabled","Legend","legend","legendId","overlay","_size","_required","help","tooltip","tooltipPlacement"],Je=f.a.fieldset.withConfig({displayName:"UIFieldset__Outer",componentId:"sc-1ne26qd-0"})(["position:relative;min-width:0;margin:0;padding:0;border:0;"]),Ye=f.a.div.withConfig({displayName:"UIFieldset__LabelWrapper",componentId:"sc-1ne26qd-1"})(["display:flex;flex-direction:column;padding-top:",";padding-bottom:",";"],({hasLegend:e})=>e&&""+qe.T,({hasHelp:e,hasLegend:t})=>(e||t)&&qe.S),Ve=f()(e=>{const{children:t,className:a,id:n}=e;return Object(I.jsxs)("span",{children:[Object(I.jsx)("legend",{id:n,className:"sr-only",children:t}),Object(I.jsx)("span",{"aria-hidden":!0,className:a,children:t})]})}).withConfig({displayName:"UIFieldset__FieldsetLegend",componentId:"sc-1ne26qd-2"})(["padding-right:0;padding-bottom:0;cursor:",";",";"],({disabled:e})=>e?"not-allowed":"default",e=>e.required&&Object(x.css)(["::after{content:' *';}"]));function Ze(e){const{children:t,disabled:a,Legend:s,legend:o,legendId:i,overlay:r,_size:c,_required:l,help:d,tooltip:p,tooltipPlacement:u}=e,h=Object(j.a)(e,Ke),m=!!r,g=!!m||a,b=o?Object(I.jsx)(s,{id:i,required:l,disabled:a,children:o}):null,O=p?Object(I.jsx)($e.a,{title:p,tooltipPlacement:u,children:b}):b;return Object(I.jsxs)(Je,Object.assign({},h,{"aria-hidden":m,disabled:g,children:[Object(I.jsxs)("div",{children:[Object(I.jsxs)(Ye,{hasLegend:null!=O,hasHelp:null!=d,children:[O,null!=d?Object(I.jsx)(He.a,{className:"private-form__inlinehelp",use:"help",children:d}):null]}),Object(I.jsx)(Fe.d,{value:Object(n.useMemo)(()=>({disabled:g,size:c}),[g,c]),children:Object(I.jsx)("div",{children:t})})]}),r&&Be.b(r,{contextual:!0,use:r.type===R.a?"light":void 0},{mergeType:"aggressive"})]}))}Ze.propTypes={children:O.a.node,disabled:O.a.bool,Legend:Object(q.a)(O.a.elementType.isRequired),legend:O.a.node,legendId:O.a.string,overlay:Be.a,tooltip:Ue.a.propTypes.tooltip,tooltipPlacement:Ue.a.propTypes.tooltipPlacement,help:Ue.a.propTypes.help,_size:O.a.oneOf(Object.keys(Ge.a)),_required:O.a.bool};Ze.defaultProps={disabled:Fe.e.disabled,Legend:Ve,_required:!1,_size:Fe.e.size,tooltipPlacement:"top"};Ze.displayName="UIFieldset";var Qe=a("dKJf"),Xe=a("1IE1"),et=a("/HxV"),tt=a("PP6z"),at=a("TS0S");const nt=["aria-labelledby","children","className","description","disabled","error","Fieldset","gap","help","inline","label","required","tooltip","tooltipPlacement","use","validationMessage"],st=()=>({message:"UIInputGroup: the `description` prop has been deprecated. Please use the `help` prop instead.",key:"UIInputGroup: description prop"}),ot=e=>{let t;"boolean"==typeof e&&(t=!!e&&qe.q);"string"==typeof e&&(t=e);"number"==typeof e&&(t=parseInt(e,10)+"px");return t},it=Object(x.css)([".private-form__control{border-bottom-right-radius:0;border-top-right-radius:0;}"]),rt=Object(x.css)([".private-form__control{border-top-left-radius:0;border-bottom-left-radius:0;}"]),ct=Object(x.css)(["flex:1 1 0%;min-width:0;"]),lt=f.a.div.withConfig({displayName:"UIInputGroup__InputGroupImpl",componentId:"sc-1nrx0wp-0"})(["display:",";> *{.private-form__control{&.private-form__control--error{position:relative;z-index:",";}&:focus{position:relative;z-index:",";}}",";",";}>:not(:first-child){",";",";}>:not(:last-child){",";",";}.private-form__set + .private-form__set{margin-top:0;margin-left:",";}"],({inline:e})=>e?"inline-flex":"flex",qe.Y,qe.Fb,e=>"itemBoth"===e.use&&Object(x.css)([":not(:first-child):not(:last-child){",";}"],ct),e=>"flex"===e.use&&ct,e=>!ot(e.gap)&&rt,e=>"itemLeft"===e.use&&ct,e=>!ot(e.gap)&&it,e=>"itemRight"===e.use&&ct,e=>ot(e.gap)?e.gap:"-1px"),dt=f()(Ze.defaultProps.Legend).withConfig({displayName:"UIInputGroup__InputGroupLegend",componentId:"sc-1nrx0wp-1"})(["",";"],W.a.medium);class pt extends n.Component{constructor(e){super(e);this._legendId="input-group-"+Object(et.d)()}render(){const e=this.props,{"aria-labelledby":t,children:a,className:s,description:o,disabled:i,error:r,Fieldset:c,gap:l,help:d,inline:p,label:u,required:h,tooltip:m,tooltipPlacement:g,use:b,validationMessage:O}=e,x=Object(j.a)(e,nt),f=S()("private-form__set private-input-group",s),y=n.Children.toArray(a).find(e=>e&&e.props&&e.props.error&&e.props.validationMessage),v=r||y&&y.props.error,C=O||y&&y.props.validationMessage;return Object(I.jsxs)(c,Object.assign({},x,{className:f,disabled:i,help:d,Legend:dt,legend:u,legendId:this._legendId,tabIndex:0,tooltip:m,tooltipPlacement:g,_required:h,children:[Object(I.jsx)(lt,{gap:ot(l),inline:p,use:b,children:n.Children.map(a,e=>{if(null==e)return null;Object(at.a)(e,pt.displayName);const a=e.props["aria-label"],s=t||e.props["aria-labelledby"];0;return Object(n.cloneElement)(e,{"aria-labelledby":a?"":S()(u?this._legendId:s,e.props["aria-labelledby"]),required:e.props.required||h,description:null,help:null,tooltip:null,validationMessage:null})})}),Object(I.jsx)("div",{className:"private-inputgroup__meta private-form__meta",children:Object(I.jsx)("div",{className:"private-form__messages","aria-hidden":"true",children:v&&C&&Object(I.jsx)(Qe.a,{className:"private-form__validation",tabIndex:-1,use:"error",children:C})})}),o&&Object(I.jsx)(Qe.a,{className:"private-form__description",tabIndex:-1,use:"help",children:o})]}))}}pt.propTypes={"aria-labelledby":O.a.string,children:O.a.node,className:O.a.string,description:Object(tt.a)(O.a.node,st),disabled:O.a.bool,error:O.a.bool,Fieldset:Object(Xe.a)(Ze).isRequired,help:Ue.a.propTypes.help,gap:O.a.oneOfType([O.a.bool,O.a.number,O.a.string]),inline:Object(q.a)(O.a.bool),label:O.a.node,required:O.a.bool,tooltip:Ue.a.propTypes.tooltip,tooltipPlacement:Ue.a.propTypes.tooltipPlacement,use:O.a.oneOf(["flex","itemLeft","itemRight","itemBoth","none"]),validationMessage:O.a.node};pt.defaultProps={error:!1,Fieldset:Ze,gap:!1,inline:!1,tooltipPlacement:"top",use:"flex"};pt.displayName="UIInputGroup";var ut=a("EIJv");const ht=["children","className","id","labelWrapperClassName","position","text","error"],mt={default:"",small:"private-input-static-label--small"},gt=(e,t)=>f()(e).attrs({className:t}).withConfig({displayName:"UIInputStaticLabel__getStyledLabelWrapper",componentId:"sc-1q3cnsg-0"})(["max-width:50%;"]);class jt extends n.Component{constructor(e){super(e);this._getStyledLabelWrapper=Object(z.a)(gt)}render(){const e=this.props,{children:t,className:a,id:s,labelWrapperClassName:o,position:i,text:r,error:c}=e,l=Object(j.a)(e,ht);return Object(I.jsx)(Fe.a,{children:({size:e})=>{const d=S()("private-input-static-label",a,mt[e]),p=Object(I.jsx)(ut.a,{useFlex:!0,className:"private-input-static-label__label",children:r}),u={id:t.props.id||s};void 0!==c&&(u.error=c);const h=n.Children.only(t);Object(at.a)(h,jt.displayName);return Object(I.jsx)("label",Object.assign({},l,{className:d,children:Object(I.jsx)(ie.a,{spacing:"extra-small",itemLeft:"start"===i?p:void 0,MediaLeft:this._getStyledLabelWrapper(ie.a.defaultProps.MediaLeft,o),itemRight:"end"===i?p:void 0,MediaRight:this._getStyledLabelWrapper(ie.a.defaultProps.MediaRight,o),children:n.cloneElement(h,u)})}))}})}}jt.propTypes={children:O.a.element.isRequired,labelWrapperClassName:O.a.string,position:O.a.oneOf(["start","end"]).isRequired,text:O.a.node.isRequired,error:O.a.bool};jt.defaultProps={position:"start"};jt.displayName="UIInputStaticLabel";var bt=jt;let Ot,xt,ft;!function(e){e.Password="Password";e.Text="Text";e.Select="Select";e.Email="Email";e.Url="Url";e.Html="Html"}(Ot||(Ot={}));!function(e){e.Static="Static";e.Select="Select";e.Domain="Domain";e.Path="Path"}(xt||(xt={}));!function(e){e.Step="Step"}(ft||(ft={}));const yt=new RegExp("^.+@.+\\..{2,}$");function vt({item:e,help:t,label:a,params:n,onChange:s}){switch(e.type){case Ot.Password:case Ot.Text:{const o=n[e.name],i=e.type===Ot.Password?"password":"text";return Object(I.jsx)(Ue.a,{label:a,required:e.required,help:t?Object(I.jsx)(m.a,{external:!0,href:t,children:Object(I.jsx)(h.a,{message:"universalAuth.auth.helpText"})}):null,children:Object(I.jsx)(Re.a,{type:i,onChange:t=>s(e.name,t.target.value),value:o})})}case Ot.Email:{const o=n[e.name],i=!!o&&!yt.test(o);return Object(I.jsx)(Ue.a,{label:a,required:e.required,help:t?Object(I.jsx)(m.a,{external:!0,href:t,children:Object(I.jsx)(h.a,{message:"universalAuth.auth.helpText"})}):null,error:i,validationMessage:i?Object(I.jsx)(Qe.a,{use:"error",children:Object(I.jsx)(h.a,{message:"universalAuth.defaultValidationErrors.Email"})}):null,children:Object(I.jsx)(Re.a,{type:"email",onChange:t=>s(e.name,t.target.value),value:o})})}case Ot.Html:return Object(I.jsx)(Ue.a,{label:a,help:t?Object(I.jsx)(m.a,{external:!0,href:t,children:Object(I.jsx)(h.a,{message:"universalAuth.auth.helpText"})}):null,children:Object(I.jsx)("div",{dangerouslySetInnerHTML:{__html:e.html}})});case Ot.Select:{const o=n[e.name];return Object(I.jsx)(Ue.a,{label:a,required:e.required,help:t?Object(I.jsx)(m.a,{external:!0,href:t,children:Object(I.jsx)(h.a,{message:"universalAuth.auth.helpText"})}):null,children:Object(I.jsx)(ze.a,{options:e.options.map(e=>({text:e.label,value:e.value})),value:o,onChange:t=>s(e.name,t.target.value),menuWidth:"auto"})})}case Ot.Url:{const o=e.name,i=n[e.name],r=e,c=r.parts.map((e,t)=>{const a=`${e.type}${t.toString()}`,n=i?i[t]:void 0;let c,l=!1;const d=[];switch(e.type){case xt.Static:c=Object(I.jsx)(We.a,{style:{lineHeight:"40px"},children:e.value});break;case xt.Select:c=Object(I.jsx)(ze.a,{options:e.options.map(e=>({text:e,value:e})),value:n,onChange:e=>{const a=e.target.value,n=i&&Array.isArray(i)?i.slice():new Array(r.parts.length).fill("");n[t]=a;s(o,n)},menuWidth:"auto"});break;case xt.Domain:case xt.Path:if(e.validation){if(n&&!new RegExp(e.validation.regex).test(n)){l=!0;d.push(Object(I.jsx)(Qe.a,{use:"error",children:e.validation.message},`${e.type}${t.toString()}`))}}c=Object(I.jsx)(Re.a,{placeholder:e.placeholder,value:n,onChange:e=>{const a=e.target.value,n=i&&Array.isArray(i)?i.slice():new Array(r.parts.length).fill("");n[t]=a;s(o,n)}});break;default:c=null}t>0&&c&&(c=Object(I.jsx)(bt,{text:"Path"===e.type?"/":".",position:"start",children:c}));return Object(I.jsx)(Ue.a,{error:l,validationMessage:d,"aria-label":e.type,children:c},a)});return 1===r.parts.length?Object(I.jsx)(Ue.a,{label:a,"aria-label":a,required:r.required,help:t?Object(I.jsx)(m.a,{external:!0,href:t,children:Object(I.jsx)(h.a,{message:"universalAuth.auth.helpText"})}):null,children:c[0]}):Object(I.jsx)(pt,{label:a,"aria-label":a,gap:!0,use:"none",required:r.required,help:t?Object(I.jsx)(m.a,{external:!0,href:t,children:Object(I.jsx)(h.a,{message:"universalAuth.auth.helpText"})}):null,children:c})}default:return null}}function St(e){const t={};for(let a=0;a<e.length;a++){const n=e[a];for(let e=0;e<n.items.length;e++){const{item:a}=n.items[e];if("name"in a)switch(a.type){case"Url":{const e=new Array(a.parts.length);for(let t=0;t<a.parts.length;t++){const n=a.parts[t];switch(n.type){case"Static":e[t]=n.value;continue;case"Select":if(n.options.length>0){e[t]=n.options[0];continue}default:e[t]=""}}t[a.name]=e;break}case"Select":if(a.options.length>0){t[a.name]=a.options[0].value;continue}break;default:t[a.name]=""}}}return t}function Ct(e,t){for(let a=0;a<e.items.length;a++){const{item:n}=e.items[a];switch(n.type){case"Password":case"Text":if(n.required&&!t[n.name])return!1;break;case"Select":if(n.required){const e=t[n.name];if(!e||-1===n.options.findIndex(t=>t.value===e))return!1}break;case"Email":if(n.required&&!yt.test(t[n.name]))return!1;break;case"Url":for(let e=0;e<n.parts.length;e++){const a=n.parts[e],s=t[n.name]||[];switch(a.type){case"Select":{const t=s[e];if(n.required&&(!t||!a.options.includes(t)))return!1;break}case"Domain":case"Path":if(n.required&&!s[e])return!1;if(a.validation&&!new RegExp(a.validation.regex).test(s[e]))return!1;break;default:continue}}break;default:continue}}return!0}function wt(e,t,a,n,s){const o={authParams:{},inputParams:{},upstreamParams:{},oAuthParams:void 0};e.forEach(e=>{e.items.forEach(({item:e})=>{if(e.type===Ot.Url){const a=t[e.name],n=a&&Array.isArray(a)?a:new Array(e.parts.length).fill("");e.parts.forEach((e,t)=>{e.type===xt.Static&&(n[t]=e.value)});const s=e.parts.findIndex(e=>e.type===xt.Path),i=-1===s?n:n.slice(0,s),r=-1===s?[]:n.slice(s),c=`${i.map(e=>e.trim()).join(".").replace(/^(https?|ftp):\/\//,"").replace(/\/$/,"")}${r.length>0?"/"+r.map(e=>e.trim()).join("/"):""}`;o.inputParams[e.name]=c}else if("name"in e){const a=t[e.name],n=a&&!Array.isArray(a)?a.trim():"";o.inputParams[e.name]=n}})});if(a&&n){a.forEach((e,t)=>{o.upstreamParams[t]=e});o.oAuthParams={state:n,scope:s}}o.authParams=Object.assign({},o.inputParams);return o}var kt=a("D2Y9"),At=a("oxA8"),It=a("4eMT");function Nt({portalId:e,appId:t,account:a,error:n}){const s=n?{border:"1px solid "+se.CANDY_APPLE}:{};return Object(I.jsx)(ie.a,{"data-test-id":"universal-auth-account-avatar",style:s,className:"p-x-6 p-y-4",itemLeft:Object(I.jsx)(oe.a,{name:"contacts",color:se.BATTLESHIP,backgroundColor:se.KOALA,borderWidth:0,size:16}),children:Object(I.jsxs)("div",{className:"justify-between",children:[Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{style:{textTransform:"none"},children:a.accountName}),""!==a.accountIdentifier&&Object(I.jsx)("div",{children:Object(I.jsx)(Qe.a,{use:"help",children:a.accountIdentifier})})]}),n&&e&&t&&Object(I.jsx)("div",{className:"align-center",children:Object(I.jsx)(m.a,{href:`/data-sync/${e}/app/${t}/account/${a.id}`,children:Object(I.jsx)(h.a,{message:"universalAuth.auth.viewAccountSettings"})})})]})})}var Tt=a("QvWB");function _t({isModal:e,header:t,body:a,footer:n}){return e?Object(I.jsxs)(I.Fragment,{children:[t&&Object(I.jsx)(d.a,{children:t}),Object(I.jsx)(r.a,{children:a}),n&&Object(I.jsx)(l.a,{children:n})]}):Object(I.jsxs)(I.Fragment,{children:[t||null,a,n||null]})}class Et extends Error{constructor(e,t,a){super();this.name="DuplicateDataSyncAccountError";this.portalId=e;this.appId=t;this.account=a}toAuthError(){return{type:"DuplicateDataSyncAccount",portalId:this.portalId,appId:this.appId,account:this.account}}}class Mt extends Error{constructor(){super();this.type="MissingPermissions"}toAuthError(){return{type:"MissingPermissions"}}}class Pt extends Error{constructor(e,t){super(e);this.name="AuthenticateError";this.type="AuthenticateError";this.message=e||"";this.upstreamErrorMessage=t}toAuthError(){return{type:"AuthenticateError",message:this.message,upstreamErrorMessage:this.upstreamErrorMessage}}}function Dt(e){let t=[];try{const a=localStorage.getItem("LOCAL_API_OVERRIDES");if(a){t=JSON.parse(a);if(!Array.isArray(t)){console.error("LOCAL_API_OVERRIDES local storage key must be a stringified array");return e}}}catch(t){return e}return t.some(t=>e.includes(t))?e.replace(/https:\/\/(app|api)/,"https://local").replace("/api/","/"):e}const Lt=`https://oauth-redirect.hubspot${te.a.isQa()?"qa":""}.com`;function Ut(){return"randomUUID"in crypto?crypto.randomUUID():([1e7]+-1e3+-4e3+8e3+-1e11).replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))}function Rt({type:e,portalId:t,appName:a,disabled:s,steps:o,params:i,oAuthScope:r,onSuccess:c,onFailure:l,makeAuthorizeUrlDescriptor:d,useOauthorGeneratedStateParam:p,finishAuthFlow:u}){const[m,g]=Object(n.useState)("idle"),j=Object(n.useRef)(""),b=Object(n.useRef)();Object(n.useEffect)(()=>{if("OAuth"===e&&"finishing"===m){const e=setTimeout(()=>{if(b.current){b.current.close();g("cancelled");l({type:"OAuthWindowTimeout"})}},3e5),t=setInterval(()=>{if(!b.current||b.current.closed){g("cancelled");l({type:"OAuthWindowClosed"})}},1e3),a=a=>{const n=b.current;if(a.data&&n&&a.source===n)if(a.origin!==Lt&&a.origin!==Object(Ae.getFullUrl)("app")||"ping"!==a.data){if(a.origin===Lt&&"AUTH_RESPONSE"===a.data.type){const s=new URLSearchParams(a.data.queryString);if(s.has("state"))if(j.current===s.get("state")){const e=wt(o,i,s,j.current,r);u(e).then(e=>{g("idle");c(e)}).catch(e=>{g("failed");e instanceof Pt||e instanceof Et||e instanceof Mt?l(e.toAuthError()):e.responseJSON&&e.responseJSON.message?l({type:"AuthenticateError",message:e.responseJSON.message}):l({type:"AuthenticateError",message:e.message})})}else{l({type:"UnknownOAuthProblem"});g("failed")}else{l({type:"UnknownOAuthProblem"});g("failed")}clearTimeout(e);clearInterval(t);n.close();j.current=""}}else n.postMessage("pong",a.origin)};window.addEventListener("message",a);return()=>{clearTimeout(e);clearInterval(t);window.removeEventListener("message",a)}}},[m]);return Object(I.jsx)(Te.a,{use:"primary",disabled:s,loading:"finishing"===m,failed:"failed"===m||"cancelled"===m,onClick:()=>{g("finishing");if("OAuth"===e){const e=600,a=790,{screenY:n,screenX:s,outerHeight:c,outerWidth:u}=window,h=Math.round(n+Math.max(0,Math.floor(c-a)/2)),m=Math.round(s+Math.max(0,Math.floor(u-e)/2)),O=window.open("about:blank","_blank",`menubar=no,location=no,resizable=yes,scrollbars=yes,status=no,titlebar=no,toolbar=no,width=${e},height=${a},top=${h},left=${m}`);if(!O){g("failed");l({type:"OAuthWindowBlocked"});return}(p?ne.a.post("/api/oauthor/v1/data-sync-extensions/create-state").then(({key:e})=>e):Promise.resolve(Ut())).then(e=>{j.current=e;const{inputParams:a}=wt(o,i),n=Object(ve.buildUrl)(Object.assign({},d(),{query:Object(kt.stringify)(Object.assign({scope:r,state:e,portalId:t},a))}));if(null!==O){O.location=Dt(n);b.current=O}}).catch(()=>g("failed"))}else{const e=wt(o,i);u(e).then(e=>{g("idle");c(e)}).catch(e=>{g("failed");e instanceof Pt||e instanceof Et?l(e.toAuthError()):e.responseJSON&&e.responseJSON.message?l({type:"AuthenticateError",message:e.responseJSON.message}):l({type:"AuthenticateError",message:e.message})})}},children:Object(I.jsx)(h.a,{message:"universalAuth.auth.connectTo",options:{appName:a}})})}function zt({isModal:e,onCancel:t}){return Object(I.jsx)(_t,{isModal:e,header:e?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(_e.a,{children:Object(I.jsx)(h.a,{message:"universalAuth.modal.loadingDialogHeader"})}),Object(I.jsx)(c.a,{onClick:t})]}):void 0,body:Object(I.jsx)("div",{style:{minHeight:300},children:Object(I.jsx)(U.a,{layout:"centered"})})})}function Wt({isModal:e,onClose:t}){return Object(I.jsx)(_t,{isModal:e,header:e?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(_e.a,{children:Object(I.jsx)(h.a,{message:"universalAuth.modal.loadingDialogHeader"})}),Object(I.jsx)(c.a,{onClick:t})]}):void 0,body:Object(I.jsx)("div",{style:{minHeight:300},children:Object(I.jsx)(Ie.a,{type:"danger",titleText:Object(I.jsx)(h.a,{message:"universalAuth.errors.configuration.title"}),children:Object(I.jsx)(h.a,{message:"universalAuth.errors.configuration.body"})})})})}function qt({appName:e,error:t}){return"AuthenticateError"===t.type?Object(I.jsxs)(Ie.a,{type:"danger",titleText:Object(I.jsx)(h.a,{message:"universalAuth.errors.authenticate.titleText",options:{appName:e}}),children:[t.message||Object(I.jsx)(h.a,{message:"universalAuth.errors.authenticate.default"}),t.upstreamErrorMessage&&Object(I.jsx)(It.a,{className:"m-top-4",title:Object(I.jsx)("strong",{children:Object(I.jsx)(h.a,{message:"universalAuth.errors.accountCreation.details"})}),children:Object(I.jsx)("p",{children:Object(I.jsx)(At.a,{message:"universalAuth.errors.accountCreation.htmlMessage",options:{message:t.upstreamErrorMessage}})})})]}):"OAuthWindowBlocked"===t.type?Object(I.jsx)(Ie.a,{type:"danger",titleText:Object(I.jsx)(h.a,{message:"unifiedAuth.errors.oauthWindowBlocked.titleText",options:{appName:e}}),children:Object(I.jsx)(h.a,{message:"unifiedAuth.errors.oauthWindowBlocked.instructions",options:{appName:e}})}):"OAuthWindowClosed"===t.type?Object(I.jsx)(Ie.a,{type:"danger",titleText:Object(I.jsx)(h.a,{message:"unifiedAuth.errors.oauthWindowClosed.titleText",options:{appName:e}}),children:Object(I.jsx)(h.a,{message:"unifiedAuth.errors.oauthWindowClosed.instructions"})}):"OAuthWindowTimeout"===t.type?Object(I.jsx)(Ie.a,{type:"danger",titleText:Object(I.jsx)(h.a,{message:"unifiedAuth.errors.oauthWindowTimedOut.titleText",options:{appName:e}}),children:Object(I.jsx)(h.a,{message:"unifiedAuth.errors.oauthWindowTimedOut.instructions"})}):"UnknownOAuthProblem"===t.type?Object(I.jsx)(Ie.a,{type:"danger",titleText:Object(I.jsx)(h.a,{message:"universalAuth.errors.authenticate.titleText",options:{appName:e}}),children:Object(I.jsx)(h.a,{message:"unifiedAuth.errors.pleaseTryAgain"})}):"MissingPermissions"===t.type?Object(I.jsx)(Ie.a,{type:"danger",titleText:Object(I.jsx)(h.a,{message:"unifiedAuth.errors.missingPermissions.titleText",options:{appName:e}}),children:Object(I.jsx)(h.a,{message:"unifiedAuth.errors.missingPermissions.body"})}):null}function Ft({type:e,appName:t,introScreen:a}){const n=a?a({type:e,appName:t}):null;return n||("OAuth"===e?Object(I.jsx)(At.a,{"data-test-id":"oauth-intro",message:"universalAuth.auth.connectDefaultOAuthIntro",options:{appName:t}}):null)}function $t({isModal:e,portalId:t,appId:a,appName:n,account:s,onCancel:o,onReset:i}){return Object(I.jsx)(_t,{isModal:e,header:e?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(_e.a,{children:[Object(I.jsx)(Tt.a,{className:"p-right-3",name:"warning",color:"#FFFFFF"}),Object(I.jsx)(h.a,{message:"universalAuth.modal.duplicateAccountHeader"})]}),Object(I.jsx)(c.a,{onClick:o})]}):void 0,body:Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Nt,{portalId:t,appId:a,account:s,error:!0}),Object(I.jsx)(Le.a,{className:"m-top-4",children:Object(I.jsx)(h.a,{message:"universalAuth.auth.tryDifferentAccount",options:{appName:n}})})]}),footer:Object(I.jsxs)(De.a,{children:[Object(I.jsx)(Ne.a,{use:"primary",onClick:i,children:Object(I.jsx)(h.a,{message:"universalAuth.auth.connectDifferentAccount"})}),Object(I.jsx)(Ne.a,{onClick:o,children:Object(I.jsx)(h.a,{message:"universalAuth.auth.cancel"})})]})})}function Gt(){return te.a.getHublet()===ke.eu1}function Bt(){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Ee.a,{className:"m-top-8 m-bottom-3"}),Object(I.jsx)(Qe.a,{use:"help",children:Object(I.jsx)(u.a,{message:"universalAuth.auth.euHubletLegal_jsx",elements:{b:"b",UILink:m.a}})})]})}function Ht({isModal:e,isReauth:t,portalId:a,authState:s,authConfig:{appName:o,appIcon:i,oAuthScope:r,authFlow:l,useOauthorGeneratedStateParam:d,makeAuthorizeUrlDescriptor:p,finishAuthFlow:u},onComplete:m,onCancel:g,introScreen:j,successScreen:b}){const[O,x]=Object(n.useState)(()=>(j?j({type:l.type,appName:o}):null)||0===l.steps.length&&"OAuth"===l.type?-1:0),f=Object(n.useMemo)(()=>O,[]),[y,v]=Object(n.useState)(()=>St(l.steps)),S=O>-1&&O<l.steps.length?l.steps[O]:void 0,C=!S||Ct(S,y),[w,k]=Object(n.useState)();return w&&"DuplicateDataSyncAccount"===w.type?Object(I.jsx)($t,{isModal:e,portalId:w.portalId,appId:w.appId,appName:o,account:w.account,onCancel:g,onReset:()=>{x(()=>(j?j({type:l.type,appName:o}):null)||0===l.steps.length&&"OAuth"===l.type?-1:0);k(void 0)}}):"succeeded"===s.status&&b?b({appName:o,authResponse:s.authResponse,onCancel:g}):Object(I.jsx)(_t,{isModal:e,header:e?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(_e.a,{children:t?Object(I.jsx)(h.a,{message:"universalAuth.modal.reconnectDialogHeader",options:{appName:o}}):Object(I.jsx)(h.a,{message:"universalAuth.modal.dialogHeader",options:{appName:o}})}),Object(I.jsx)(c.a,{onClick:g})]}):void 0,body:Object(I.jsx)(Le.a,{className:"p-bottom-1",children:S?Object(I.jsxs)(I.Fragment,{children:[t?null:Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(ie.a,{align:"center",itemLeft:i?Object(I.jsx)(Pe.a,{src:i,height:"40",width:"40"}):Object(I.jsx)(Me.a,{name:"integrations",height:"40"}),children:Object(I.jsx)(h.a,{message:"universalAuth.auth.connectIntro",options:{appName:o}})}),Object(I.jsx)(Ee.a,{})]}),w&&Object(I.jsx)("div",{className:"m-bottom-6",children:Object(I.jsx)(qt,{appName:o,error:w})}),S.items.map(e=>Object(I.jsx)(vt,{item:e.item,help:e.help,label:e.label,params:y,onChange:(e,t)=>{v(a=>Object.assign({},a,{[e]:t}))}},e.label))]}):-1===O?Object(I.jsxs)(I.Fragment,{children:[w&&Object(I.jsx)("div",{className:"m-bottom-6",children:Object(I.jsx)(qt,{appName:o,error:w})}),Object(I.jsx)(Ft,{type:l.type,appName:o,introScreen:j})]}):null}),footer:Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(De.a,{children:[O>f&&Object(I.jsx)(Ne.a,{use:"secondary",onClick:()=>x(e=>e-1),children:Object(I.jsx)(h.a,{message:"universalAuth.auth.back"})}),O<l.steps.length-1?Object(I.jsx)(Ne.a,{use:"primary",onClick:()=>x(e=>e+1),disabled:!C,children:Object(I.jsx)(h.a,{message:"universalAuth.auth.next"})}):Object(I.jsx)(Rt,{type:l.type,portalId:a,appName:o,disabled:!C,steps:l.steps,params:y,oAuthScope:r,onSuccess:e=>{k(void 0);m(e)},onFailure:e=>k(e),makeAuthorizeUrlDescriptor:p,useOauthorGeneratedStateParam:d,finishAuthFlow:u})]}),O===f&&Gt()?Object(I.jsx)(Bt,{}):null]})})}function Kt({isModal:e,isReauth:t=!1,portalId:a,onComplete:s,onCancel:o=(()=>{}),fetchAuthConfig:i,introScreen:r,successScreen:c}){const[l,d]=Object(n.useState)({status:"pending"}),[u,h]=Object(n.useState)({status:"pending"});Object(n.useEffect)(()=>{let e=!1;i().then(t=>{e||h(()=>({status:"succeeded",config:t}))}).catch(t=>{e||h(()=>({status:"failed",err:t}))});return()=>{e=!0}},[]);const m=Object(I.jsx)(I.Fragment,{children:"pending"===u.status?Object(I.jsx)(zt,{isModal:e,onCancel:o}):"succeeded"===u.status?Object(I.jsx)(Ht,{isModal:e,isReauth:t,portalId:a,authConfig:u.config,onComplete:e=>{d({status:"succeeded",authResponse:e});s&&s(e)},onCancel:o,introScreen:r,successScreen:c,authState:l}):Object(I.jsx)(Wt,{isModal:e,onClose:o})});return e?Object(I.jsx)(p.a,{"data-test-id":"unified-auth-modal",width:550,use:"succeeded"===l.status?"success":"default",children:m}):Object(I.jsx)("div",{"data-test-id":"unified-auth-form",children:m})}var Jt=a("XBoB"),Yt=a("Zzrc");const Vt=({defaultIcon:e})=>e,Zt={circleSize:10,direction:"horizontal",responsiveBreakpoint:500,StepIconComponent:Vt,use:"default"},Qt=(e=Zt.circleSize)=>"number"==typeof e?e:Yt.c[e],Xt=e=>{if(!Object(n.isValidElement)(e))return e;const{key:t}=e;0;return t},ea=(e,t,a)=>{const n=parseInt(qe.e,10)/2,s=10,o="vertical"===a?Object(W.k)(2*Qt(t)+s):void 0,i="vertical"===a?Object(W.k)(Qt(t)-n):void 0;return Object(I.jsx)("div",{className:"private-step-indicator__item",style:{marginLeft:o,marginTop:i},children:Object(I.jsx)("span",{className:"private-step-indicator__text",children:e})})},ta=(e,t,a,n,s,o=Zt.StepIconComponent)=>{let i="incomplete";return s.map((s,r)=>{r<n&&n>0?i="complete":r===n?i="active":"active"===i&&(i="incomplete");const c=a&&r!==n?"private-step-indicator__clickable":void 0,l=S()("private-step-indicator__section private-step-indicator__section--"+i,c),d=Object(I.jsx)(oe.a,{legacy:!0,color:"complete"===i?se.OLAF:se.LORAX,backgroundColor:"complete"===i?se.LORAX:se.OLAF,borderColor:"currentColor",borderWidth:2,className:"private-step-indicator__point",name:"complete"===i?"success":"blank",size:Qt(e)}),p=a&&r!==n?Jt.a:"div",u=Xt(s),h=a&&r!==n?"button":"listitem",m="complete"===i?u+" completed":u;return Object(I.jsxs)(p,{role:h,"aria-current":"active"===i&&"step","aria-label":m,className:l,onClick:a&&r!==n?()=>a(r):void 0,children:[Object(I.jsx)("div",{className:"private-step-indicator__line",children:Object(I.jsx)("span",{className:"private-step-indicator__point",children:Object(I.jsx)(o,{stepIndex:n,stepStatus:i,index:r,circleSize:e,defaultIcon:d})})}),ea(s,e,t)]},Xt(s))})};class aa extends n.PureComponent{constructor(e){super(e);this.refCallback=e=>{this._el=e;this.measureWidth()};this.measureWidth=()=>{const{direction:e,responsiveBreakpoint:t=Zt.responsiveBreakpoint,use:a}=this.props;if("compact"===a||"horizontal"!==e||!this._el)return;this.state.isWidthConstrained&&this._el.classList.remove("private-step-indicator--compact");const n=this._el.clientWidth<t;n!==this.state.isWidthConstrained&&this.setState({isWidthConstrained:n});this.state.isWidthConstrained&&this._el.classList.add("private-step-indicator--compact")};this.state={isWidthConstrained:!1};this._el=null;addEventListener("resize",this.measureWidth)}componentDidUpdate(e,t){t.isWidthConstrained===this.state.isWidthConstrained&&this.measureWidth()}componentWillUnmount(){removeEventListener("resize",this.measureWidth)}render(){const{circleSize:e=Zt.circleSize,className:t,direction:a=Zt.direction,onStepClick:n,stepIndex:s,stepNames:o,StepIconComponent:i=Zt.StepIconComponent,use:r=Zt.use,"aria-label":c}=this.props,{isWidthConstrained:l}=this.state,d=S()(t,"private-step-indicator",("compact"===r||l)&&"private-step-indicator--compact",i!==Vt&&"private-step-indicator--customized",{horizontal:"private-step-indicator--horizontal",vertical:"private-step-indicator--vertical"}[a],"flush"===r&&"private-step-indicator--flush private-step-indicator--compact");return Object(I.jsxs)("div",{className:d,ref:this.refCallback,"aria-label":c,role:"list",children:[ta(e,a,n,s,o,i),"horizontal"===a?Object(I.jsx)("span",{"aria-hidden":!0,className:"private-step-indicator__item private-step-indicator__status",children:o[s]}):null]})}}aa.propTypes={circleSize:O.a.oneOfType([O.a.number,O.a.oneOf(Object.keys(Yt.c))]),direction:O.a.oneOf(["horizontal","vertical"]).isRequired,responsiveBreakpoint:O.a.number,onStepClick:O.a.func,stepIndex:O.a.number,stepNames:O.a.arrayOf(O.a.node.isRequired).isRequired,StepIconComponent:O.a.elementType,use:O.a.oneOf(["default","compact","flush"])};aa.defaultProps=Zt;aa.displayName="UIStepIndicator";var na=aa,sa=a("VQUG"),oa=a("pG/d"),ia=a("tZqp"),ra=a.n(ia);const ca=Object(oa.a)({events:ra.a}),la=ca.clone({});var da=a("LN55"),pa=a("7pTN");const ua=["className","offsetBottom","offsetTop","style"],ha=e=>{const{className:t,offsetBottom:a,offsetTop:s,style:o}=e,i=Object(j.a)(e,ua),{headerCallback:r}=Object(n.useContext)(pa.a),c=Object(n.useRef)(null);Object(n.useEffect)(()=>{const e=()=>{const e=-1*c.current.offsetTop;e>0&&r(e)};e();addEventListener("resize",e);return()=>{removeEventListener("resize",e)}},[]);return Object(I.jsx)("div",Object.assign({},i,{className:S()("private-modal__header-image",t),ref:c,style:Object.assign({marginBottom:a,marginTop:null!=s&&-1*s},o)}))};ha.propTypes={children:O.a.node,offsetBottom:O.a.number,offsetTop:O.a.number};ha.displayName="UIDialogHeaderImage";const ma=te.a.isQa()?1203680:232794;function ga(e,t,a,n){return async()=>{const s=await ne.a.get(Object(ve.buildUrl)({hostname:Object(da.resolveApi)(Object(da.hubletApi)("app","hubspot",n)),path:Se(t)})),o=s.applicationListing,i=!!s.authInfo,r=await ne.a.get(Object(ve.buildUrl)({hostname:Object(da.resolveApi)(Object(da.hubletApi)("app","hubspot",n)),path:i?we(s.authInfo.authenticatorId,o.name):Ce(t)}));return{appName:o.name,appIcon:o.iconUrl||o.extensionIconUrl||"",oAuthScope:s.authInfo?s.authInfo.scope:void 0,authFlow:r,makeAuthorizeUrlDescriptor:()=>i?{hostname:Object(da.resolveApi)(Object(da.hubletApi)("app","hubspot",n)),path:`/api/unified-auth/v1/authenticators/${s.authInfo.authenticatorId}/authorize`}:{hostname:Object(da.resolveApi)(Object(da.hubletApi)("sync","hubspot",n)),path:`/${s.connectorName}/credentials/authorize/hubspot`},finishAuthFlow(o){if(t===ma&&o.upstreamParams.scope&&!o.upstreamParams.scope.includes("https://www.googleapis.com/auth/contacts"))return Promise.reject(new Mt);if(i){const i=s.authInfo.authenticatorId;return ne.a.post(Object(ve.buildUrl)({hostname:Object(da.resolveApi)(Object(da.hubletApi)("app","hubspot",n)),path:`/api/unified-auth/v1/authenticators/${i}/authenticate`}),{data:o}).then(e=>{if("object"==typeof e&&"status"in e&&"error"===e.status)throw new Pt(e.message,e.upstreamErrorMessage);return e}).then(({secretId:s})=>ne.a.post(Object(ve.buildUrl)({hostname:Object(da.resolveApi)(Object(da.hubletApi)("app","hubspot",n)),path:a?`/api/sync-bridge/v4/accounts/${a}/credentials`:"/api/sync-bridge/v4/install/finish"}),{query:{portalId:e,appId:t,secretId:s}})).catch(a=>{if(a.responseJSON&&a.responseJSON.category&&"OBJECT_ALREADY_EXISTS"===a.responseJSON.category&&a.responseJSON.context){const{context:n}=a.responseJSON,s={id:n.id[0],accountName:n.accountName[0],accountIdentifier:n.accountIdentifier[0],connectionIds:[]};throw new Et(e,t,s)}throw new Pt(void 0,a.responseJSON.message)})}return ne.a.post(Object(ve.buildUrl)({hostname:Object(da.resolveApi)(Object(da.hubletApi)("app","hubspot",n)),path:a?`/api/sync-bridge/v3/accounts/${a}/credentials`:"/api/sync-bridge/v3/install/finish"}),{data:o,query:{portalId:e,appId:t.toString()}}).then(e=>e).catch(a=>{if(a.responseJSON&&a.responseJSON.category&&"OBJECT_ALREADY_EXISTS"===a.responseJSON.category&&a.responseJSON.context){const{context:n}=a.responseJSON,s={id:n.id[0],accountName:n.accountName[0],accountIdentifier:n.accountIdentifier[0],connectionIds:[]};throw new Et(e,t,s)}throw new Pt(void 0,a.responseJSON.message)})}}}}function ja({appName:e}){return Object(I.jsx)(sa.a,{"data-test-id":"data-sync-intro",children:Object(I.jsx)(na,{direction:"vertical",stepIndex:0,stepNames:[Object(I.jsxs)(n.Fragment,{children:[Object(I.jsx)("p",{style:{fontSize:"14px",textTransform:"none",fontWeight:600},className:"m-bottom-2",children:Object(I.jsx)(h.a,{message:"universalAuth.connect",options:{appName:e}})}),Object(I.jsx)(Qe.a,{use:"help",tagName:"p",children:Object(I.jsx)(h.a,{message:"universalAuth.auth.connectDescription",options:{appName:e}})})]},0),Object(I.jsxs)(n.Fragment,{children:[Object(I.jsx)("p",{style:{fontSize:"14px",textTransform:"none",fontWeight:600},className:"m-bottom-2",children:Object(I.jsx)(h.a,{message:"universalAuth.dataSync.step.title"})}),Object(I.jsx)(Qe.a,{use:"help",tagName:"p",children:Object(I.jsx)(h.a,{message:"universalAuth.dataSync.step.description"})})]},1)]})})}function ba({portalId:e,appId:t,appName:a,account:s,onDoThisLaterClick:o,onSetupSyncClick:i}){return Object(I.jsxs)(r.a,{children:[Object(I.jsx)(sa.a,{children:Object(I.jsx)(na,{direction:"vertical",stepIndex:1,stepNames:[Object(I.jsxs)(n.Fragment,{children:[Object(I.jsx)("p",{style:{fontSize:"14px",textTransform:"none",fontWeight:600},children:Object(I.jsx)(h.a,{message:"universalAuth.connect",options:{appName:a}})}),Object(I.jsx)(ie.a,{"data-test-id":"data-sync-account-avatar",className:"p-x-6",itemLeft:Object(I.jsx)(oe.a,{name:"contacts",color:se.BATTLESHIP,backgroundColor:se.KOALA,borderWidth:0,size:16}),children:Object(I.jsx)("div",{className:"justify-between",children:Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{style:{textTransform:"none"},children:s.accountName}),""!==s.accountIdentifier&&Object(I.jsx)("div",{children:Object(I.jsx)(Qe.a,{use:"help",children:s.accountIdentifier})})]})})})]},0),Object(I.jsxs)(n.Fragment,{children:[Object(I.jsx)("p",{style:{fontSize:"14px",textTransform:"none",fontWeight:600},className:"m-bottom-2",children:Object(I.jsx)(h.a,{message:"universalAuth.dataSync.step.title"})}),Object(I.jsx)(Qe.a,{use:"help",tagName:"p",children:Object(I.jsx)(h.a,{message:"universalAuth.dataSync.step.description"})})]},1)]})}),Object(I.jsx)("footer",{className:"p-y-6",children:Object(I.jsxs)(De.a,{children:[Object(I.jsx)(Ne.a,{use:"primary",href:`/data-sync/${e}/app/${t}/account/${s.id}/connection/create`,onClick:e=>{la.track("sync-setup",{applicationId:t,applicationName:a,action:"START_SYNC_SETUP"});i&&i(e)},responsive:!1,children:Object(I.jsx)(h.a,{message:"universalAuth.dataSync.setUpSync"})}),Object(I.jsx)(Ne.a,{href:`/data-sync/${e}/app/${t}/account/${s.id}`,onClick:e=>{la.track("sync-setup",{applicationId:t,applicationName:a,action:"DEFER_SYNC_SETUP"});o&&o(e)},responsive:!1,children:Object(I.jsx)(h.a,{message:"universalAuth.dataSync.doThisLater"})})]})})]})}function Oa({portalId:e,appId:t,accountId:a,onComplete:n,onSetupSyncClick:s,onDoThisLaterClick:o,trackingSource:i,onCancel:r}){return Object(I.jsx)(Kt,{isModal:!1,isReauth:!!a,portalId:e,onComplete:e=>{i&&ca.track("app-management",{applicationId:t,source:i,action:a?"APP_RECONNECTED":"APP_CONNECTED"});n&&n(e)},onCancel:r,introScreen:ja,fetchAuthConfig:ga(e,t,a,void 0),successScreen:({appName:a,authResponse:n})=>Object(I.jsx)(ba,{portalId:e,appId:t,appName:a,account:n,onSetupSyncClick:s,onDoThisLaterClick:o})})}var xa=a("WRZ8");const fa=Q.a.get(),ya=e=>{window.location.href=e},va=(e,t)=>{if(!t)return e;const[a,n]=e.split("?");n&&(t=Object.assign({},Object(kt.parse)(n),t));return`${a}${Object.keys(t).length>0?"?":""}${Object(kt.stringify)(t)}`},Sa=()=>`/email/${fa}/import/mailchimp`,Ca=()=>`/import/${fa}/new-import/standard?onboarding=true`,wa=()=>`/ecosystem/${fa}/marketplace/apps/apps-for-operations-teams`,ka=()=>`/ops-hub-demo/${fa}?flowId=free`;let Aa;!function(e){e.Spreadsheet="Spreadsheet";e.Gmail="Gmail";e.Outlook="Outlook or Exchange";e.Mailchimp="Mailchimp";e.Zoho="Zoho";e.Pipedrive="Pipedrive"}(Aa||(Aa={}));var Ia=a("Stt/"),Na=a.n(Ia),Ta=a("Kna/"),_a=a.n(Ta),Ea=a("lh77");const Ma=["buttonType","portalId","loginStatus","hubletOverride","onSuccess","onFailure"],Pa=te.a.isQa()?1203680:232794,Da=`https://oauth-redirect.hubspot${te.a.isQa()?"qa":""}.com`;function La(e){let{buttonType:t="loading",portalId:a,loginStatus:s="completed",hubletOverride:o,onSuccess:i,onFailure:r}=e,c=Object(j.a)(e,Ma);const l=Object(n.useRef)(),d=Object(n.useRef)(""),[p,u]=Object(n.useState)("idle");Object(n.useEffect)(()=>{if("authorizing"===p&&"completed"===s){let e,t,n;ga(a,Pa,void 0,o)().then(s=>{e=setTimeout(()=>{const e=l.current;if(e){e.close();u("failed");r({type:"OAuthWindowClosed"})}},3e5);t=setInterval(()=>{const e=l.current;if(!e||e&&e.closed){u("failed");r({type:"OAuthWindowClosed"})}},1e3);n=a=>{const n=l.current;if(a.data&&n&&a.source===n)if(a.origin!==Da&&a.origin!==Object(Ae.getFullUrl)("app")||"ping"!==a.data){if(a.origin===Da&&"AUTH_RESPONSE"===a.data.type){const o=new URLSearchParams(a.data.queryString);if(o.has("state"))if(d.current===o.get("state")){const e=wt(s.authFlow.steps,{},o,d.current,s.oAuthScope);s.finishAuthFlow(e).then(e=>{i(e.id);u("success")}).catch(e=>{u("failed");e instanceof Pt||e instanceof Et||e instanceof Mt?r(e.toAuthError()):e.responseJSON&&e.responseJSON.message?r({type:"AuthenticateError",message:e.responseJSON.message}):r({type:"AuthenticateError",message:e.message})})}else{u("failed");r({type:"OAuthWindowClosed"})}else{u("failed");r({type:"OAuthWindowClosed"})}clearTimeout(e);clearInterval(t);n.close();d.current=""}}else n.postMessage("pong",a.origin)};window.addEventListener("message",n);const o=Ut();d.current=o;const c=Object(ve.buildUrl)(Object.assign({},s.makeAuthorizeUrlDescriptor(),{query:Object(kt.stringify)({scope:s.oAuthScope,state:o,portalId:a})})),p=l.current;if(p&&!p.closed)p.location=c;else{u("failed");r({type:"OAuthWindowClosed"})}}).catch(()=>{r({type:"AuthenticateError"});u("failed");const e=l.current;e&&e.close()});return()=>{e&&clearTimeout(e);t&&clearInterval(t);n&&window.removeEventListener("message",n)}}if("failed"===s){const e=l.current;if(e){e.close();r({type:"OAuthWindowClosed"})}}return()=>{}},[p,s]);const h=e=>{const t=620,a=790,{screenY:n,screenX:s,outerHeight:o,outerWidth:i}=window,d=Math.round(n+Math.max(0,Math.floor(o-a)/2)),p=Math.round(s+Math.max(0,Math.floor(i-t)/2)),h=window.open("about:blank","_blank",`menubar=no,location=no,resizable=yes,scrollbars=yes,status=no,titlebar=no,toolbar=no,width=${t},height=${a},top=${d},left=${p}`);if(h){l.current=h;u("authorizing");c.onClick&&c.onClick(e)}else{u("failed");r({type:"OAuthWindowBlocked"})}};return"loading"===t?Object(I.jsx)(Te.a,Object.assign({},c,{loading:"authorizing"===p,failed:"failed"===p,onClick:h,children:c.children})):Object(I.jsx)(Ea.a,Object.assign({},c,{onClick:h,children:c.children}))}const Ua=Q.a.get(),Ra="0-1",za=({accountId:e,appId:t})=>ne.a.post(`sync-bridge/v3/accounts/${e}/connection`,{query:{portalId:Ua,appId:t},data:{objectTypes:{hubSpotObjectTypeId:Ra,remote:"contacts"}}}),Wa=({appId:e,connectionId:t})=>ne.a.put("sync-bridge/v3/connections/"+t,{query:{portalId:Ua,appId:e},data:{conflictResolution:"DEFAULT_TO_HUBSPOT",rules:{direction:"INBOUND",filters:{},updateOnlyDirection:"NONE"},matchingFilter:{name:"email_only",value:!0},defaultValueDatasetParameters:[]}}),qa=({appId:e,connectionId:t})=>ne.a.post(`sync-bridge/v3/connections/${t}/activate`,{query:{portalId:Ua,appId:e}}),Fa=({app:e,onComplete:t})=>{const a=un[e];return Object(n.useCallback)(async n=>{if(void 0===a)throw new Error("Data Sync app ID not found for "+e);const{id:s}=await za({accountId:n,appId:a});await Wa({appId:a,connectionId:s});await qa({appId:a,connectionId:s});t()},[a,e,t])};var $a=a("dHow");const Ga=["import-contacts","quick-import-contacts","add-data-modal"],Ba=e=>Object($a.a)(e,{showTaskCompletionModal:!1}),Ha=()=>Promise.all(Ga.map(Ba));var Ka=({app:e=Aa.Gmail,buttonType:t="selectable",children:a,className:n,"data-test-id":s,onAuthenticationStatusChange:o=(()=>{}),onAuthenticationSuccess:i=(()=>{}),onAuthenticationError:r=(()=>{}),onConnectionError:c=(()=>{}),onClick:l=(()=>{})})=>{const d=Fa({app:e,onComplete:()=>{o(!1);Ha().catch(()=>{});i()}});return Object(I.jsx)(La,{buttonType:t,className:n,"data-test-id":s,use:"primary",loginStatus:"completed",portalId:Q.a.get(),onSuccess:t=>{d(t).catch(a=>{o(!1);c(a,t,un[e])})},onFailure:e=>{o(!1);r(e)},onClick:e=>{o(!0);l(e)},children:a})},Ja=a("CQiV");const Ya="en",Va=()=>Object(Ja.a)()===Ya;var Za=a("kMAW"),Qa=a.n(Za);const Xa=f()(Pe.a).withConfig({displayName:"GoogleDataSyncContactPermissionsWarningDialog__ShadowedImage",componentId:"sc-1lk0zll-0"})(["box-shadow:rgba(0,0,0,0.2) 0px 1px 24px 0px;"]);var en=({onClose:e,onSyncClick:t,onAuthenticationSuccess:a,onAuthenticationError:n})=>{const s=Va();return Object(I.jsxs)(p.a,{"data-test-id":"google-data-sync-contact-permissions-warning-dialog",use:"conversational",width:600,children:[Object(I.jsxs)(d.a,{children:[Object(I.jsx)(X.a,{children:Object(I.jsx)(h.a,{message:"growthDataModal.oneClickSync.google-contacts-permission-warning.title"})}),Object(I.jsx)(c.a,{onClick:e})]}),Object(I.jsxs)(r.a,{children:[Object(I.jsx)("p",{className:"m-bottom-6",children:s?Object(I.jsx)(h.a,{message:"growthDataModal.oneClickSync.google-contacts-permission-warning.screenshot-description"}):Object(I.jsx)(h.a,{message:"growthDataModal.oneClickSync.google-contacts-permission-warning.description"})}),s&&Object(I.jsx)(Xa,{alt:y.a.text("growthDataModal.oneClickSync.google-contacts-permission-warning.screenshot-alt"),src:Qa.a})]}),Object(I.jsx)(l.a,{align:"center",children:Object(I.jsx)(Ka,{app:Aa.Gmail,buttonType:"loading","data-test-id":"google-data-sync-contact-permissions-warning-dialog-cta",onAuthenticationSuccess:a,onAuthenticationError:n,onClick:t,children:Object(I.jsx)(h.a,{message:"growthDataModal.oneClickSync.google-contacts-permission-warning.cta"})})})]})};var tn=({className:e,"data-test-id":t="google-data-sync-contact-permissions-warning-button",children:a,onAuthenticationSuccess:s=(()=>{}),onAuthenticationError:o=(()=>{}),onClick:i=(()=>{})})=>{const[r,c]=Object(n.useState)(!1);return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Ea.a,{className:e,"data-test-id":t,onClick:e=>{c(!0);i(e)},selected:!1,children:a}),r&&Object(I.jsx)(en,{onClose:()=>c(!1),onAuthenticationSuccess:()=>{c(!1);s()},onAuthenticationError:o})]})};const an=232794,nn=1203680,sn=236007,on=1208258,rn=236009,cn=1208260,ln=236651,dn=1208281,pn=te.a.isProd(),un={[Aa.Gmail]:pn?an:nn,[Aa.Outlook]:pn?sn:on,[Aa.Zoho]:pn?rn:cn,[Aa.Pipedrive]:pn?ln:dn},hn={[Aa.Spreadsheet]:{url:Ca(),id:"spreadsheet"},[Aa.Gmail]:{id:"google-contacts",OverrideButtonComponent:tn,isOneClickSync:!0},[Aa.Outlook]:{id:"outlook"},[Aa.Mailchimp]:{url:Sa(),id:"mailchimp"},[Aa.Zoho]:{id:"zoho-crm"},[Aa.Pipedrive]:{id:"pipedrive"}},mn=Object.keys(hn).filter(e=>hn[e].isOneClickSync),gn={[Aa.Spreadsheet]:{illustrationProps:{illustration:"import-file"},textMessageKey:"growthDataModal.options.spreadsheet.text"},[Aa.Gmail]:{appId:un[Aa.Gmail],illustrationProps:{imageSrc:Na.a,imageAltTextMessageKey:"growthDataModal.options.google-contacts.alt"},textMessageKey:"growthDataModal.options.google-contacts.text"},[Aa.Outlook]:{appId:un[Aa.Outlook],illustrationProps:{imageSrc:_a.a,imageAltTextMessageKey:"growthDataModal.options.outlook.alt"},textMessageKey:"growthDataModal.options.outlook.text",smallTextMessageKey:"growthDataModal.options.outlook.smallText"},[Aa.Mailchimp]:{illustrationProps:{logo:"mailchimp"},textMessageKey:"growthDataModal.options.mailchimp.text"},[Aa.Zoho]:{appId:un[Aa.Zoho],illustrationProps:{logo:"zoho-crm"},textMessageKey:"growthDataModal.options.zoho.text"},[Aa.Pipedrive]:{appId:un[Aa.Pipedrive],illustrationProps:{logo:"pipedrive"},textMessageKey:"growthDataModal.options.pipedrive.text"}},jn={[Aa.Spreadsheet]:{},[Aa.Gmail]:{},[Aa.Outlook]:{},[Aa.Mailchimp]:{},[Aa.Zoho]:{dataSyncUrlSearchParams:[{param:"preSelectedObjectTypeId",value:"0-1"},{param:"preSelectedRemoteObject",value:"contacts"}]},[Aa.Pipedrive]:{dataSyncUrlSearchParams:[{param:"preSelectedObjectTypeId",value:"0-1"},{param:"tourId",value:"data-sync-flow"}]}},bn=e=>Object.entries(hn).some(([t,{url:a}])=>t===e&&!a),On=e=>{switch(e){case Aa.Gmail:return Object(I.jsx)(h.a,{message:"growthDataModal.connectApp.header.title.googleContacts"});case Aa.Outlook:return Object(I.jsx)(h.a,{message:"growthDataModal.connectApp.header.title.outlookContacts"});default:return Object(I.jsx)(h.a,{message:"growthDataModal.connectApp.header.title.default"})}},xn=e=>gn[e].appId,fn=e=>jn[e].dataSyncUrlSearchParams||[],yn=()=>{Object.keys(xa.a.getAlerts()).forEach(e=>xa.a.removeAlert(e))},vn=()=>{yn();xa.a.addAlert({type:"success",titleText:y.a.text("growthDataModal.oneClickSync.alerts.google-contacts.success.title"),message:Object(I.jsx)(h.a,{message:"growthDataModal.oneClickSync.alerts.google-contacts.success.message"}),sticky:!0})},Sn=e=>{switch(e){case"OAuthWindowBlocked":return y.a.text("growthDataModal.oneClickSync.alerts.google-contacts.failure.OAuthWindowBlocked.title");case"OAuthWindowClosed":return y.a.text("growthDataModal.oneClickSync.alerts.google-contacts.failure.OAuthWindowClosed.title");case"OAuthWindowTimeout":return y.a.text("growthDataModal.oneClickSync.alerts.google-contacts.failure.OAuthWindowTimeout.title");case"MissingPermissions":return y.a.text("growthDataModal.oneClickSync.alerts.google-contacts.failure.MissingPermissions.title");case"DuplicateDataSyncAccount":return y.a.text("growthDataModal.oneClickSync.alerts.google-contacts.failure.DuplicateDataSyncAccount.title");default:return y.a.text("growthDataModal.oneClickSync.alerts.google-contacts.failure.generic.title")}},Cn=e=>{switch(e){case"OAuthWindowBlocked":return Object(I.jsx)(h.a,{message:"growthDataModal.oneClickSync.alerts.google-contacts.failure.OAuthWindowBlocked.message"});case"OAuthWindowClosed":return Object(I.jsx)(h.a,{message:"growthDataModal.oneClickSync.alerts.google-contacts.failure.OAuthWindowClosed.message"});case"OAuthWindowTimeout":return Object(I.jsx)(h.a,{message:"growthDataModal.oneClickSync.alerts.google-contacts.failure.OAuthWindowTimeout.message"});case"MissingPermissions":return y.a.text("growthDataModal.oneClickSync.alerts.google-contacts.failure.MissingPermissions.message");case"DuplicateDataSyncAccount":return y.a.text("growthDataModal.oneClickSync.alerts.google-contacts.failure.DuplicateDataSyncAccount.message");default:return Object(I.jsx)(h.a,{message:"growthDataModal.oneClickSync.alerts.google-contacts.failure.generic.message"})}},wn=e=>{yn();xa.a.addAlert({type:"danger",titleText:Sn(e),message:Cn(e)})};var kn=({app:e,rootNode:t,onClose:a=(()=>{}),onCancel:n=(()=>{}),onOpen:s=(()=>{}),onSyncDoThisLaterClick:o=(()=>{}),onSyncBeginSetupClick:i=(()=>{}),onSyncComplete:l=(()=>{})})=>{const h=xn(e),g=Q.a.get(),j=e.toLowerCase().replace(/ /g,"-"),b=e=>t=>{t.preventDefault();const a=new URL(t.currentTarget.href),n=Array.isArray(e)?e:[e];for(const{param:e,value:t}of n)a.searchParams.append(e,t);ya(a.toString())};return Object(I.jsxs)(p.a,{"data-test-id":`connect-${j}-modal`,onOpenComplete:()=>s(e),rootNode:t,use:"default",width:780,children:[Object(I.jsxs)(d.a,{children:[Object(I.jsx)(X.a,{children:On(e)}),Object(I.jsx)(c.a,{onClick:()=>a(e)})]}),Object(I.jsxs)(r.a,{className:"m-bottom-6",children:[Object(I.jsx)(u.a,{message:"growthDataModal.connectApp.header.helperText_jsx",options:{external:!0,href:ka()},elements:{Link:m.a,p:"p",b:"b"}}),g&&h&&Object(I.jsx)(Oa,{portalId:g,appId:h,onComplete:()=>l(e),onSetupSyncClick:()=>{i(e);return b([...fn(e),{param:"via",value:"data-management"},{param:"import",value:""}])},onDoThisLaterClick:()=>{o(e);return b({param:"tourId",value:"skip-data-sync-setup"})},onCancel:()=>n(e)})]})]})},An=a("VErj"),In=a("tHAq");const Nn=54,Tn=70;var _n=({logo:e,illustration:t,imageSrc:a,imageAltTextMessageKey:n,isSmallSize:s=!1})=>{const o=s?Nn:Tn;return Object(I.jsxs)(I.Fragment,{children:[e&&Object(I.jsx)(In.a,{"data-test-id":"data-sync-option-logo",className:"m-all-0",name:e,height:o}),t&&Object(I.jsx)(Me.a,{"data-test-id":"data-sync-option-illustation",className:"m-all-0",name:t,height:o}),a&&Object(I.jsx)(Pe.a,{"data-test-id":"data-sync-option-image",className:"m-all-0",alt:n&&y.a.text(n),src:a,height:o,responsive:!1})]})};const En=f()(sa.a).withConfig({displayName:"DataSyncTile__ExpansiveContainer",componentId:"sc-1beywhu-0"})(["height:124px;width:124px;@media (min-width:1440px){height:144px;width:144px;}"]),Mn=f()(An.a).withConfig({displayName:"DataSyncTile__ExpansiveTitle",componentId:"sc-1beywhu-1"})(["font-size:15px;font-weight:500;line-height:1.4;@media (min-width:1440px){font-size:16px;}"]);var Pn=({app:e,ButtonComponent:t=Ea.a,href:a,size:n="default",onOneClickAuthError:s,onOneClickAuthSuccess:o,onOneClickAuthStatusChange:i,onOneClickConnectionError:r,onClick:c})=>{const{illustrationProps:l,smallTextMessageKey:d,textMessageKey:p}=gn[e],u="sm"===n,g=u&&d?d:p,j=e.toLowerCase().replaceAll(" ","-");return Object(I.jsx)(m.a,{"data-test-id":j+"-data-sync-link",href:a,use:"unstyled",children:Object(I.jsx)(t,{app:e,"data-test-id":j+"-data-sync-tile",className:u?"p-all-2":"p-all-4",onAuthenticationStatusChange:i,onAuthenticationSuccess:o,onAuthenticationError:s,onConnectionError:r,onClick:c,children:Object(I.jsxs)(En,{direction:"column",align:"center",justify:"center",children:[Object(I.jsx)(_n,Object.assign({isSmallSize:u},l)),Object(I.jsx)(Mn,{className:"m-bottom-1 "+(u?"m-top-2":"m-top-3"),children:Object(I.jsx)(h.a,{message:g})})]})})})};const Dn=()=>`/data-import-table/${Q.a.get()}?intro`,Ln="CopyAndPaste",Un={[Aa.Spreadsheet]:hn[Aa.Spreadsheet],[Ln]:{id:"copy-paste",url:Dn()},[Aa.Gmail]:hn[Aa.Gmail],[Aa.Outlook]:hn[Aa.Outlook],[Aa.Mailchimp]:hn[Aa.Mailchimp],[Aa.Zoho]:hn[Aa.Zoho]},Rn={[Ln]:{illustrationProps:{illustration:"copy-paste"},textMessageKey:"growthDataModal.gosu004.copyPaste"}};var zn=a("saKb");function Wn(e){const t=Q.a.get();return t?new Promise((a,n)=>{const s=new URLSearchParams;e.forEach(e=>s.append("treatment_keys",e));s.append("portal",t.toString());const o=document.createElement("script");o.defer=!1;o.id="growth-data-modal-experiments";o.src="https://js.hubspot.com/lab-js/v1/standalone.js?"+s.toString();const i=window.setTimeout(()=>{n(new Error("Loading experiments timeout"));o.onload=null},1e4);o.onload=()=>{const e=window.laboratory;if(e)e.client.resolve(e=>{a(e);window.clearTimeout(i)});else{n(new Error("No global laboratory found"));window.clearTimeout(i)}};o.onerror=()=>{n(new Error("Failed to load experiments"));window.clearTimeout(i)};const r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(o,r)}):Promise.reject(new Error("No portalId found"))}const qn={GOSU004:"gosu-0004"},Fn=Object(zn.a)(()=>Wn(Object.values(qn))),$n=e=>{const[t,a]=Object(n.useState)(!0),[s,o]=Object(n.useState)();Object(n.useEffect)(()=>{Fn().then(t=>o(t[e])).catch(()=>{}).finally(()=>a(!1))},[e]);return{isLoading:t,treatment:s}},Gn=()=>{const e="onboarding-data-import-ui-prefetch";if(document.getElementById(e))return;const t=document.createElement("iframe");t.id=e;t.src=`${Object(Ae.getFullUrl)("app")}/${e}`;t.style.display="none";document.body.appendChild(t)},Bn=()=>{const{isLoading:e,treatment:t}=$n(qn.GOSU004);if(t&&"variant"===t.parameters.group){Gn();Object.assign(gn,Rn);return{isLoadingGOSU004:e,dataSyncOptions:Un}}return{isLoadingGOSU004:e}};var Hn=a("19qb");const Kn=()=>Object(Hn.useSelector)(e=>e&&e.auth&&e.auth.gates||[]),Jn=e=>Kn().includes(e);var Yn=({headingSubtitle:e,rootNode:t,withMarketplaceRedirectParams:a,withSyncRedirectParams:s,onClose:o=(()=>{}),onConnectionError:j=(()=>{}),onEvent:b=(()=>{}),onMarketplaceLinkClick:O=(()=>{}),onTileClick:x=(()=>{}),onOpen:f=(()=>{}),onSyncCancel:y=(()=>{}),onSyncDoThisLaterClick:v=(()=>{}),onSyncBeginSetupClick:S=(()=>{}),onSyncComplete:C=(()=>{}),onSyncError:w=(()=>{})})=>{const[k,A]=Object(n.useState)(),[N,T]=Object(n.useState)(!1),_=Jn("Growth:OnboardingSetup:OneClickGoogleSync"),{isLoadingGOSU004:E,dataSyncOptions:M=hn}=Bn(),P=()=>{vn();if(k){b("sync complete",{app:k});C(k)}},D=e=>{wn(e.type);if("OAuthWindowClosed"===e.type&&k){b("sync cancel",{app:k});return y(k)}return w(e)},L=(e,t,a)=>{wn();b("connection error",{error:e,accountId:t,appId:a});j(e,t,a)};return!k||_&&mn.includes(k)?Object(I.jsxs)(p.a,{"data-test-id":"data-sync-modal",onOpenComplete:()=>{b("modal open");f()},rootNode:t,use:"conversational",width:780,children:[Object(I.jsxs)(d.a,{className:"align-center",children:[Object(I.jsxs)(g.a,{className:"m-bottom-8",children:[Object(I.jsx)(i.a,{children:Object(I.jsx)(h.a,{message:"growthDataModal.header.title"})}),e]}),Object(I.jsx)(c.a,{"data-test-id":"data-sync-modal-close-button",onClick:()=>{b("sync cancel",{app:k});o()}})]}),Object(I.jsx)(r.a,{className:"flex-row align-center justify-center flex-wrap","data-test-id":"data-sync-buttons",style:E?{filter:"blur(1em)"}:void 0,children:Object.entries(M).map(([e,{OverrideButtonComponent:t,url:a}])=>{const n=e,o=a&&va(a,s),i=t||(_&&mn.includes(n)?Ka:void 0);return Object(I.jsx)(g.a,{basis:"25%",className:"m-right-4 m-bottom-4",grow:0,shrink:0,children:Object(I.jsx)(Pn,{app:n,ButtonComponent:i,href:o,onOneClickAuthStatusChange:e=>T(e),onOneClickAuthSuccess:P,onOneClickAuthError:D,onOneClickConnectionError:L,onClick:()=>{x(n);b("tile click",{app:n});bn(n)&&A(n)}})},e)})}),Object(I.jsx)(l.a,{align:"center",children:Object(I.jsx)(u.a,{elements:{Link:m.a},message:"growthDataModal.footer_jsx",options:{"data-test-id":"data-sync-modal-footer",external:!0,href:va(wa(),a),onClick:()=>{O();b("marketplace link click")}}})}),(E||N)&&Object(I.jsx)(V,{})]}):Object(I.jsx)(kn,{app:k,onCancel:()=>{b("sync cancel",{app:k});y(k);A(void 0)},onClose:()=>A(void 0),onSyncDoThisLaterClick:e=>{b("sync do this later click",{app:e});v(e)},onSyncBeginSetupClick:e=>{b("sync begin setup click",{app:e});S(e)},onSyncComplete:C})},Vn=a("ib7J"),Zn=a("5GG/");var Qn=({logo:e,illustration:t,imageSrc:a,imageAltTextMessageKey:n,isSmallSize:s=!1})=>Object(I.jsxs)(I.Fragment,{children:[e&&Object(I.jsx)(In.a,{"data-test-id":"data-location-option-logo",className:"m-all-0",name:e,height:s?54:70}),t&&Object(I.jsx)(Me.a,{"data-test-id":"data-location-option-illustation",className:"m-all-0",name:t,height:s?54:70}),a&&Object(I.jsx)(Pe.a,{"data-test-id":"data-location-option-image",className:"m-all-0",alt:n?y.a.text(n):void 0,src:a,height:s?54:70,responsive:!1})]}),Xn=a("6XT3");const es=["href","to"];var ts=e=>{let{href:t,to:a}=e,n=Object(j.a)(e,es);return a?Object(I.jsx)(Xn.a,Object.assign({"data-test-id":"universal-link-router-link",to:a},n)):Object(I.jsx)(m.a,Object.assign({"data-test-id":"universal-link-ui-link",href:t},n))},as=a("2VoN"),ns=a.n(as),ss=a("cRwj"),os=a.n(ss);let is;!function(e){e.Gmail="Gmail";e.Outlook="Outlook or Exchange";e.Pipedrive="Pipedrive";e.Zoho="Zoho";e.Spreadsheet="Spreadsheet";e.Mailchimp="Mailchimp"}(is||(is={}));const rs={[is.Spreadsheet]:{illustrationProps:{illustration:"import-file"},textMessageKey:"growth-onboarding-shared-components.dataSync.spreadsheet.text"},[is.Gmail]:{appId:te.a.isProd()?232794:1203680,illustrationProps:{imageSrc:ns.a,imageAltTextMessageKey:"growth-onboarding-shared-components.dataSync.google-contacts.alt"},textMessageKey:"growth-onboarding-shared-components.dataSync.google-contacts.text"},[is.Outlook]:{appId:te.a.isProd()?236007:1208258,illustrationProps:{imageSrc:os.a,imageAltTextMessageKey:"growth-onboarding-shared-components.dataSync.outlook.alt"},textMessageKey:"growth-onboarding-shared-components.dataSync.outlook.text",smallTileTextMessageKey:"growth-onboarding-shared-components.dataSync.outlook.smallTileText"},[is.Mailchimp]:{illustrationProps:{logo:"mailchimp"},textMessageKey:"growth-onboarding-shared-components.dataSync.mailchimp.text"},[is.Zoho]:{appId:te.a.isProd()?236009:1208260,illustrationProps:{logo:"zoho-crm"},textMessageKey:"growth-onboarding-shared-components.dataSync.zoho.text"},[is.Pipedrive]:{appId:te.a.isProd()?236651:1208281,illustrationProps:{logo:"pipedrive"},textMessageKey:"growth-onboarding-shared-components.dataSync.pipedrive.text"}},cs=f()(sa.a).withConfig({displayName:"DataSyncTile__FlexContainer",componentId:"u6f11r-0"})(["height:124px;width:124px;@media (min-width:1440px){height:144px;width:144px;}"]),ls=f()(An.a).withConfig({displayName:"DataSyncTile__Title",componentId:"u6f11r-1"})(["font-size:15px;font-weight:500;line-height:1.4;@media (min-width:1440px){font-size:16px;}"]);var ds;!function(e){e[e.gmail=0]="gmail";e[e["outlook-or-exchange"]=1]="outlook-or-exchange";e[e.pipedrive=2]="pipedrive";e[e.zoho=3]="zoho"}(ds||(ds={}));var ps=({app:e,onClick:t,size:a="default",href:n,to:s})=>{const{illustrationProps:o,smallTileTextMessageKey:i,textMessageKey:r}=rs[e],c="sm"===a,l=c&&i?i:r,d=e.toLowerCase().replaceAll(" ","-"),p=`${d}-${Object.values(ds).includes(d)?"to":"link"}`;return Object(I.jsx)(ts,{"data-test-id":p,href:n,to:s,use:"unstyled",children:Object(I.jsx)(Ea.a,{"data-test-id":d+"-button",className:c?"p-all-2":"p-all-4",onClick:t,children:Object(I.jsxs)(cs,{direction:"column",align:"center",justify:"center",children:[Object(I.jsx)(Qn,Object.assign({isSmallSize:c},o)),Object(I.jsx)(ls,{className:"m-bottom-1 "+(c?"m-top-2":"m-top-3"),children:Object(I.jsx)(h.a,{message:l})})]})})})},us=a("8wgp");const hs={[is.Spreadsheet]:{userInteractionAction:"import spreadsheet click",getLink:(e,t)=>`${Object(us.U)(t)}${e?"&onboarding_referrer_task="+e:""}`,key:"spreadsheet"},[is.Gmail]:{userInteractionAction:"gmail click",getLink:(e,t)=>Object(us.O)("google-contacts",e,t),key:"gmail"},[is.Outlook]:{userInteractionAction:"outlook/exchange click",getLink:(e,t)=>Object(us.O)("outlook",e,t),key:"outlook-or-exchange"},[is.Mailchimp]:{userInteractionAction:"mailchimp click",getLink:(e,t)=>`${Object(us.R)(t)}${e?"&onboarding_referrer_task="+e:""}`,key:"mailchimp"},[is.Zoho]:{userInteractionAction:"zoho click",getLink:(e,t)=>Object(us.O)("zoho-crm",e,t),key:"zoho"},[is.Pipedrive]:{userInteractionAction:"pipedrive click",getLink:(e,t)=>Object(us.O)("pipedrive",e,t),key:"pipedrive"}};var ms=a("C+aE"),gs=a("nuuP");const js=()=>{const{taskMap:e,isLoading:t}=Object(gs.f)();return{importContactTaskId:Object(n.useMemo)(()=>{if(Object(us.T)("taskKey")===ms.a){let t=te.a.isQa()?289255:170116;if(e){const a=Object.keys(e).find(e=>e===ms.a);a&&(t=e[a].id)}return t}if(!e)return null;const t=Object.keys(e).find(e=>e===ms.Y||e===ms.Ab||e===ms.a);return t?e[t].id:null},[e]),isLoading:t}};var bs=({trackUserInteraction:e,onClose:t,delayClickUntilResolved:a,onOpenModal:s,rootNode:o,subTitleSlot:j,via:b})=>{const{importContactTaskId:O,isLoading:x}=js(),{isConsolidatedUserGuideLayout:f}=Object(n.useContext)(Vn.a),y=f?"&onboarding_referrer_group=crm_set_up_the_basics":"";Object(n.useEffect)(()=>{e("Data location modal view")},[e]);const v=()=>{t();e("close data location modal")};return x?null:Object(I.jsxs)(p.a,{"data-test-id":"data-location-modal",onOpenComplete:s,rootNode:o,use:"conversational",width:780,children:[Object(I.jsxs)(d.a,{className:"align-center",children:[Object(I.jsxs)(g.a,{className:"m-bottom-8",children:[Object(I.jsx)(i.a,{children:Object(I.jsx)(h.a,{message:"setup-guide-components.modal.addContactsModal.header.title"})}),j]}),Object(I.jsx)(c.a,{"data-test-id":"data-location-modal-close-button",onClick:v})]}),Object(I.jsx)(r.a,{className:"flex-row align-center justify-center flex-wrap","data-test-id":"data-location-buttons",children:Object.entries(hs).map(([t,n])=>{const s=`${n.getLink(O,b)}${y}`;return Object(I.jsx)(g.a,{basis:"25%",className:"m-right-4 m-bottom-4",grow:0,shrink:0,children:Object(I.jsx)(ps,{app:t,href:s,onClick:t=>{if(a){t.preventDefault();a().then(()=>{e(n.userInteractionAction);window.location.href=s}).catch(Zn.a)}else e(n.userInteractionAction)}},n.key)},t)})}),Object(I.jsx)(l.a,{align:"center",children:Object(I.jsx)(u.a,{elements:{Link:m.a},message:"setup-guide-components.modal.addContactsModal.footer_jsx",options:{href:Object(us.S)(),onClick:()=>{e("click add contacts footer link")},"data-test-id":"data-location-modal-footer",external:!0}})})]})},Os=a("RzDu"),xs=a("1thV");a.d(t,"default",(function(){return fs}));function fs({onClose:e,onOpenModal:t}){const a=Object(Os.c)("Growth:OnboardingSetup:CentralizedDataSyncModal"),{isConsolidatedUserGuideLayout:s}=Object(n.useContext)(Vn.a),{importContactTaskId:i,isLoading:r}=js(),c=Object(gs.f)(),{trackHubTasksInteraction:l}=Object(xs.a)({hubGroupKey:c.groupKey||"",tier:c.tier});return r?null:a?Object(I.jsx)(Yn,{onClose:()=>{l("close data location modal");e()},onConnectionError:e=>{l("sync connection error",e.code);o.a.captureException(new Error("Data Sync Modal Sync Connection Error: "+e.code),{extra:{error:{code:e.code,message:e.message,data:e.data,responseJSON:e.responseJSON,status:e.status,statusText:e.statusText}}})},onMarketplaceLinkClick:()=>l("click add contacts footer link"),onOpen:()=>{l("Data location modal view");t&&t()},onSyncBeginSetupClick:e=>{l("begin sync click for "+e)},onSyncCancel:e=>{l("sync cancel click for "+e)},onSyncComplete:e=>{l("sync complete for "+e)},onSyncDoThisLaterClick:e=>{l("do this later post-sync click for "+e)},onSyncError:e=>{l("sync error",e.type);"OAuthWindowClosed"!==e.type&&o.a.captureException(new Error("Data Sync Modal Sync Error: "+e.type),{extra:{error:e}})},onTileClick:e=>{l(`import or sync via ${e} click`)},withMarketplaceRedirectParams:{via:"user-guide"},withSyncRedirectParams:Object.assign({via:"user-guide-data-sync-modal"},i&&{onboarding_referrer_task:String(i)},s&&{onboarding_referrer_group:"crm_set_up_the_basics"})}):Object(I.jsx)(bs,{onClose:e,onOpenModal:t,trackUserInteraction:l})}}}]);
//# sourceMappingURL=//static.hsappstatic.net/setup-guide-ui/static-1.32018/DataLocationModal.js.map