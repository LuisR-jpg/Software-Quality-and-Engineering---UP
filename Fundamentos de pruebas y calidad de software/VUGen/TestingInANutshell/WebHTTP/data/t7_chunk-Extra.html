(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-Extra"],{196:function(e,t,s){"use strict";var r=s(10),i=s(57),o=s.n(i),n=s(611),a=s(146);const l=({message:e})=>Object(r.jsxs)("div",{className:"login-loading",children:[Object(r.jsx)(n.a,{grow:!0,minHeight:100}),Object(r.jsx)("h1",{children:Object(r.jsx)(a.a,{message:"login.loading."+e})})]});l.propTypes={message:o.a.string};l.defaultProps={message:"default"};t.a=l},202:function(e,t,s){"use strict";var r=s(10),i=s(57),o=s.n(i),n=s(55),a=s(43);const l=({query:e})=>Object(r.jsx)(n.a,{to:Object.assign({pathname:"/"},e?{search:Object(a.stringify)(e)}:{}),children:"hubspot.com/login"});l.propTypes={query:o.a.object};t.a=l},329:function(e,t,s){"use strict";s.r(t);var r=s(10),i=s(56),o=s(57),n=s.n(o),a=s(162),l=s.n(a),c=s(572),d=s(608),u=s(43),h=s(201),g=s(196);const m=new h.a,p=new d.a({loginRequest:m.userTrustTokenLogin.bind(m),passThroughFallback:!0}),b=new d.a({loginRequest:m.hubUserTrustTokenLogin.bind(m),passThroughFallback:!0});class j extends i.Component{constructor(e){super(e);this.logVerboseMessageForPhantomJs=e=>{e.message?console.error(e.message):console.error(JSON.stringify(e))};this.createLoginFailureHandler=(e,t,s)=>e.ignoreRedirectWrapper(e=>{console.error(e);this.logVerboseMessageForPhantomJs(e);const r="/?"+Object(u.stringify)({loginError:"TRUST_TOKEN_FAILED",loginPortalId:t,loginRedirectUrl:s});this.props.history.push(r)});const{search:t}=e.location,s=Object(u.parse)(t.substr(1)),{createdAt:r,loginPortalId:i,loginRedirectUrl:o,rememberLogin:n,signature:a,type:c}=s,d=void 0!==n?"1"===n:"1"===l.a.get("prefs");let h,g;if(c&&"hub-user"===c){const{origin:e,userId:t}=s;h={createdAt:r,loginPortalId:i,loginRedirectUrl:o,origin:e,rememberLogin:d,signature:a,userId:t};g=b}else{const{email:e}=s;h={createdAt:r,email:e,loginPortalId:i,loginRedirectUrl:o,rememberLogin:d,signature:a};g=p}this.state={appCookieLogin:g,credentials:h,loginPortalId:i,loginRedirectUrl:o}}componentDidMount(){const{appCookieLogin:e,credentials:t,loginPortalId:s,loginRedirectUrl:r}=this.state;e.login(t).then(e.redirectOnLoginSuccess).catch(this.createLoginFailureHandler(e,s,r))}render(){return Object(r.jsx)(c.a,{name:"TRUST_TOKEN_LOAD",children:Object(r.jsx)(g.a,{message:"loggingIn"})})}}j.propTypes={location:n.a.object.isRequired,history:n.a.object.isRequired};t.default=j},330:function(e,t,s){"use strict";s.r(t);var r=s(10),i=s(14),o=s(146),n=s(166),a=s(202),l=s(203),c=s(56);const d="login.notFound",u=()=>{Object(c.useEffect)(()=>{document.title=i.a.text(d+".title")},[]);return Object(r.jsxs)("div",{className:"text-center",children:[Object(r.jsx)(l.a,{height:150,className:"m-bottom-4",name:"errors/general"}),Object(r.jsx)("h1",{children:Object(r.jsx)(o.a,{message:d+".header"})}),Object(r.jsx)("div",{className:"m-bottom-4",children:Object(r.jsx)(o.a,{message:d+".instructions"})}),Object(r.jsx)(n.a,{message:d+".navigate",options:{link:Object(r.jsx)(a.a,{})}})]})};t.default=u},331:function(e,t,s){"use strict";var r=s(30),i=s.n(r);class o{changePassword(e){return i.a.post("/login-api/v1/password/new",{data:e})}sendPasswordResetEmail(e,t){return i.a.post(`/login-api/v1/password/reset/${e}/${t}`)}isValidResetToken(e,t){return e&&t?i.a.get(`/login-api/v1/password/validate-token/${e}/${t}`):Promise.reject({status:0,statusText:"No request made - either email or token is missing."})}}t.a=o},332:function(e,t,s){"use strict";s.r(t);var r=s(10),i=s(56),o=s(57),n=s.n(o),a=s(166),l=s(146),c=s(331),d=s(33),u=s(163),h=s(202),g=s(43),m=s(572),p=s(610),b=s(183),j=s(611),O=s(612),x=s(203);const R={FORGOT:0,LOCKED:1,SUCCESS:2},S=new c.a;class f extends i.Component{constructor(e){super(e);const{updateType:t}=this.props,{search:s}=this.props.location,r=Object(g.parse)(s.substr(1)),{email:i,useDark:o,loginRedirectUrl:n,googleLoginRedirectUrl:a}=r;this.state={email:i||"",useDark:o,error:"",renderState:"forgot"===t?R.FORGOT:R.LOCKED,submitting:!1,loginRedirectUrl:n,googleLoginRedirectUrl:a};this.handleInputChange=this.handleInputChange.bind(this);this.onFormSubmit=this.onFormSubmit.bind(this);this.onPasswordResetSuccess=this.onPasswordResetSuccess.bind(this);this.onPasswordResetFailure=this.onPasswordResetFailure.bind(this);this.renderStates=this.renderStates.bind(this);this.renderForgot=this.renderForgot.bind(this);this.renderLocked=this.renderLocked.bind(this);this.renderSuccess=this.renderSuccess.bind(this);this.renderEmailElement=this.renderEmailElement.bind(this);this.renderNavigate=this.renderNavigate.bind(this);this.__renderStatesCached=this.renderStates()}handleInputChange(e,t){this.setState({[e]:t.target.value})}onFormSubmit(e){e.preventDefault();const{email:t}=this.state,{productType:s}=this.props;this.setState({error:"",submitting:!0});S.sendPasswordResetEmail(t,s).then(this.onPasswordResetSuccess).catch(this.onPasswordResetFailure)}onPasswordResetSuccess(){this.setState({renderState:R.SUCCESS,submitting:!1})}onPasswordResetFailure({status:e,responseText:t}){let s;try{s=JSON.parse(t);this.setState({error:s.status,submitting:!1})}catch(e){this.setState({error:"RESET_UNAVAILABLE",submitting:!1})}console.error(`Status ${e}: ${t}`)}renderStates(){return{[R.FORGOT]:this.renderForgot,[R.LOCKED]:this.renderLocked,[R.SUCCESS]:this.renderSuccess}}renderForgot(){const{email:e,useDark:t,error:s,submitting:i}=this.state,o=e&&d.d(e);return Object(r.jsx)(m.a,{name:"FORGOT_LOAD",children:Object(r.jsxs)("form",{onSubmit:this.onFormSubmit,className:"text-center",children:[Object(r.jsx)("h1",{children:Object(r.jsx)(l.a,{message:"login.requestReset.header"})}),Object(r.jsx)("div",{className:"m-bottom-4",children:Object(r.jsx)(l.a,{message:"login.requestReset.instructions"})}),this.renderEmailElement(i,t),this.renderResetButton(i,o,"login-submit"),Object(r.jsx)(u.a,{error:s,fallbackError:"RESET_UNAVAILABLE"}),this.renderNavigate()]})})}renderLocked(){const{updateType:e}=this.props,{error:t,submitting:s}=this.state;return Object(r.jsx)(m.a,{name:"LOCKED_LOAD",children:Object(r.jsxs)("form",{className:"text-center",onSubmit:this.onFormSubmit,children:[Object(r.jsx)(x.a,{name:"lock",width:"33%"}),Object(r.jsx)("h1",{children:Object(r.jsx)(l.a,{message:`login.requestReset.${e}.title`})}),Object(r.jsx)("div",{className:"m-bottom-4",children:Object(r.jsx)(l.a,{message:`login.requestReset.${e}.instructions`})}),this.renderResetButton(s,!0),Object(r.jsx)(u.a,{error:t,fallbackError:"RESET_UNAVAILABLE"}),this.renderNavigate()]})})}renderSuccess(){const{email:e}=this.state;return Object(r.jsx)(m.a,{name:"EMAIL_SEND_SUCCESS",children:Object(r.jsxs)("div",{className:"text-center email-send-successful",children:[Object(r.jsx)(x.a,{height:150,className:"m-bottom-4",name:"successful-send"}),Object(r.jsx)("h1",{children:Object(r.jsx)(l.a,{message:"login.requestReset.success.header"})}),Object(r.jsx)("p",{children:Object(r.jsx)(l.a,{message:"login.requestReset.success.message",options:{email:e}})}),Object(r.jsx)("p",{children:Object(r.jsx)(l.a,{message:"login.requestReset.success.expectation"})}),Object(r.jsx)("p",{children:this.renderNavigate()})]})})}renderEmailElement(e,t){return Object(r.jsxs)("div",{className:"text-left",children:[Object(r.jsx)(b.a,{htmlFor:"email",children:Object(r.jsx)(l.a,{message:"login.requestReset.form.email"})}),Object(r.jsx)(O.a,{id:"email",type:"email",className:"m-bottom-4",value:this.state.email,onChange:this.handleInputChange.bind(null,"email"),disabled:e,use:"true"===t?"on-dark":"default"})]})}renderResetButton(e,t=!0,s=""){return e?Object(r.jsx)(j.a,{grow:!0,minHeight:"56px"}):Object(r.jsx)(p.a,{id:"reset-button",use:"primary",type:"submit",className:s+" m-bottom-4",disabled:!t,children:Object(r.jsx)(l.a,{message:"login.requestReset.form.button"})})}renderNavigate(){const{productType:e}=this.props,{useDark:t,loginRedirectUrl:s,googleLoginRedirectUrl:i}=this.state;return Object(r.jsx)(a.a,{message:"login.requestReset.navigate",options:{link:Object(r.jsx)(h.a,{productType:e,query:{useDark:t,loginRedirectUrl:s,googleLoginRedirectUrl:i}})}})}render(){const{renderState:e}=this.state,t=this.__renderStatesCached[e];if(t)return t();console.error(`Unknown landing state ${e}. Cannot render.`);return null}}f.defaultProps={productType:"marketing"};f.propTypes={location:n.a.object.isRequired,updateType:n.a.string.isRequired,productType:n.a.string.isRequired};t.default=f},333:function(e,t,s){"use strict";s.r(t);var r=s(10),i=s(56),o=s(14),n=s(165),a=s(148),l=s(608),c=s(57),d=s.n(c),u=s(55),h=s(43),g=s(588),m=s(609),p=s(196),b=s(334),j=s(33),O=s(572);const x=new b.a,R=new l.a({loginRequest:x.loginViaToken.bind(x)});class S extends i.Component{constructor(e){super(e);this.onRetry=()=>{const{loginPortalId:e,loginRedirectUrl:t}=this.state,s="/sso?"+Object(h.stringify)({loginPortalId:e,loginRedirectUrl:t});this.props.history.push(s)};this.handleLoginSuccess=e=>R.redirectOnLoginSuccess(e);this.handleLoginFailure=()=>{this.setState({errored:!0,submitting:!1})};this.renderLoading=()=>Object(r.jsx)(O.a,{name:"SSO_ACS_LOAD",children:Object(r.jsx)("div",{className:"text-center",children:Object(r.jsx)(p.a,{message:"sso"})})});this.renderErrored=()=>Object(r.jsx)(O.a,{name:"SSO_ACS_ERROR",children:Object(r.jsxs)(g.a,{title:o.a.text("login.sso.completion.error.title"),type:"badRequest",children:[Object(r.jsx)("p",{children:Object(r.jsx)(n.a,{elements:{Link:m.a},message:"login.sso.completion.error.retry_jsx",options:{onClick:this.onRetry}})}),Object(r.jsx)("p",{children:Object(r.jsx)(a.a,{message:"login.sso.completion.error.description"})})]})});const{search:t}=e.location,s=Object(h.parse)(t.substr(1)),{createdAt:i,provider:l,signature:c,type:d,userId:u,rememberLogin:b}=s,{loginPortalId:x,loginRedirectUrl:S}=Object(j.b)(s),f={createdAt:i,hubId:x,provider:l,redirectUrl:S,signature:c,type:d,userId:u,rememberLogin:b||!1};this.state={credentials:f,errored:!1,loginPortalId:x,loginRedirectUrl:S,submitting:!0}}componentDidMount(){const{credentials:e}=this.state;R.login(e).then(this.handleLoginSuccess).catch(this.handleLoginFailure)}render(){const{errored:e,submitting:t}=this.state;return t?this.renderLoading():e?this.renderErrored():null}}S.propTypes={location:d.a.object.isRequired,history:d.a.object.isRequired};t.default=Object(u.g)(S)},582:function(e,t,s){"use strict";s.r(t);var r=s(10),i=s(56),o=s(43),n=s(14),a=s(57),l=s.n(a),c=s(572),d=s(27),u=s(55),h=s(608),g=s(146),m=s(166),p=s(170),b=s(41),j=s(54),O=s(331),x=s(196);const R=(e,t)=>{e&&"string"==typeof e||console.error('Required "name" string property not provider for pattern. Provided: '+typeof e);t&&"function"==typeof t||console.error(`Required "validator" callback not provider for "${e} pattern". Provided: ${typeof t}`)},S=(e,t,s,r)=>{const i=typeof s;if(i!==r){console.error(`Invariant error in ${e} pattern. Pattern.${t}() method can only be passed a ${r}. Provided: ${i}`);return!0}return!1};var f=({name:e="",inputType:t="string",validator:s=null,rules:r=null,matcher:i=null}={})=>{r&&(s=e=>Object.keys(r).every(t=>r[t].test(e)));R(e,s);const o={name:e,inputType:t,test:(r,i={})=>(!t||!S(e,"test",r,t))&&s(r,i)};i&&"function"==typeof i&&(o.match=s=>(!t||!S(e,"match",s,t))&&i(s));r&&(o.testRules=e=>Object.keys(r).map(t=>({rule:t,valid:r[t].test(e)})));return o};var y={minLength:8,maxLength:200,lowercase:"[a-z]",uppercase:"[A-Z]",numberSymbolWhitespace:"([\\d\\s]|[^\\w])"};const{minLength:w,maxLength:C,lowercase:N,uppercase:E,numberSymbolWhitespace:L}=y;var T=f({name:"Password",rules:{length:new RegExp(`^.{${w},${C}}$`),lowercase:new RegExp(""+N),uppercase:new RegExp(""+E),numberSymbolWhitespace:new RegExp(""+L)}}),I=s(98),v=s(326),q=s(12),A=s(64),P=s.n(A),U=s(118);function k(e){const{borderColor:t,className:s,color:i,iconClassName:o,legacy:n,padding:a}=e,l=Object(q.a)(e,["borderColor","className","color","iconClassName","legacy","padding"]),c=P()("private-icon-circle__outer",s,n&&"private-icon-circle--legacy"),d=P()("private-icon-circle__inner",o);return Object(r.jsx)(U.a,Object.assign({},l,{borderColor:t||i,borderRadius:"50%",className:c,innerClassName:d,padding:n?0:a,color:i}))}k.propTypes={backgroundColor:U.a.propTypes.backgroundColor,borderColor:U.a.propTypes.borderColor,borderStyle:U.a.propTypes.borderStyle,borderWidth:U.a.propTypes.borderWidth,verticalAlign:U.a.propTypes.verticalAlign,innerStyles:l.a.object,iconClassName:l.a.string,name:U.a.propTypes.name,color:l.a.string,size:l.a.number,padding:l.a.number,legacy:l.a.bool};k.defaultProps={borderWidth:1,borderStyle:"solid",padding:.75};k.displayName="UIIconCircle";class _ extends i.Component{constructor(...e){super(...e);this.renderPasswordRuleValidation=({rule:e,valid:t})=>{const s=t?I.A:I.b;return Object(r.jsxs)("div",{className:"m-bottom-2",children:[Object(r.jsx)(k,{name:"success",backgroundColor:I.z,color:s,size:8,className:"m-right-1"}),Object(r.jsx)(g.a,{message:"login.reset.passwordRules."+e})]},e)}}render(){const{password:e}=this.props;return Object(r.jsx)(v.a,{"aria-live":"polite","aria-atomic":"true",className:"password-validation",children:T.testRules(e).map(this.renderPasswordRuleValidation)})}}_.propTypes={password:l.a.string.isRequired};var F=s(610),D=s(585),M=s(611),V=s(612),B=s(203),W=s(148),$=s(17),G=s(613),H=s(614),K=s(323),Y=s(79),J=s(102),z={GIVEN_NAME:"given",FAMILY_NAME:"family"},Q=s(185),Z=s(184);class X extends i.Component{render(){const e=this.props,{className:t,input:s,label:r}=e,i=Object(q.a)(e,["className","input","label"]),o=s.props&&s.props.className;return K.b(s,Object.assign({label:Object(Z.a)(r)},i,{},s.props,{className:P()(o,t)}),{mergeType:"aggressive"})}}X.propTypes={input:K.a.isRequired,label:Object(Q.a)(l.a.node).isRequired};const ee={default:[z.GIVEN_NAME,z.FAMILY_NAME],ja:[z.FAMILY_NAME,z.GIVEN_NAME]},te={[z.GIVEN_NAME]:()=>Object(r.jsx)(W.a,{message:"i18nAddon.fullNameInput.givenName"}),[z.FAMILY_NAME]:()=>Object(r.jsx)(W.a,{message:"i18nAddon.fullNameInput.familyName"})},se=parseInt(Y.m,10)/2;class re extends i.Component{render(){const{direction:e,familyNameInput:t,firstInputProps:s,givenNameInput:i,secondInputProps:o,wrap:n}=this.props,a=Object($.a)(),l=ee[a]?ee[a]:ee.default,c=l[0],d=l[1],u=te[c],h=te[d],g="row"===e,m=g?{margin:Object(J.a)(se)}:null,p=g?{margin:Object(J.a)(-1*se)}:null,b=g?{marginRight:Object(J.a)(-2*se)}:null;let j=i,O=t;if(c===z.FAMILY_NAME){j=t;O=i}return Object(r.jsx)("div",{style:b,children:Object(r.jsxs)(G.a,{direction:e,wrap:n,align:"stretch",style:p,children:[Object(r.jsx)(H.a,{grow:1,style:m,children:Object(r.jsx)(X,Object.assign({},s,{input:j,label:u}))}),Object(r.jsx)(H.a,{grow:1,style:m,children:Object(r.jsx)(X,Object.assign({},o,{input:O,label:h}))})]})})}}re.propTypes={direction:l.a.oneOf(["row","column"]),familyNameInput:K.a.isRequired,givenNameInput:K.a.isRequired,wrap:l.a.string};re.defaultProps={direction:"column",wrap:"nowrap"};var ie=s(618),oe=s(617),ne=s(167);class ae extends i.Component{constructor(...e){super(...e);this.state={firstName:"",lastName:"",password:"",showingPassword:!1};this.handleInputChange=(e,t)=>{"password"===e&&(this.props.isPasswordLeaked||this.props.isPasswordTooCommon)&&this.props.resetError();this.setState({[e]:t.target.value})};this.submittable=()=>{const{firstName:e,lastName:t,password:s}=this.state,{invitation:r,isPasswordLeaked:i,isPasswordTooCommon:o}=this.props,n=T.test(s);return r?n&&""!==e&&""!==t&&!i&&!o:n&&!i&&!o};this.firstNameField=e=>Object(r.jsx)(D.a,{label:n.a.text("login.reset.form.firstName"),children:Object(r.jsx)(V.a,{id:"given",value:this.state.firstName,onChange:this.handleInputChange.bind(null,"firstName"),disabled:e})});this.lastNameField=e=>Object(r.jsx)(D.a,{label:n.a.text("login.reset.form.lastName"),children:Object(r.jsx)(V.a,{id:"family",value:this.state.lastName,onChange:this.handleInputChange.bind(null,"lastName"),disabled:e})});this.onShowPasswordClick=()=>{const{showingPassword:e}=this.state;this.setState({showingPassword:!e})};this.onFormSubmit=e=>{e.preventDefault();const{onResetSubmit:t}=this.props,{firstName:s,lastName:r,password:i}=this.state;t(s,r,i)};this.getValidationMessage=()=>{const{isPasswordLeaked:e,isPasswordTooCommon:t}=this.props;return e?Object(r.jsx)(g.a,{message:"login.errors.PASSWORD_LEAKED.title"}):t?Object(r.jsx)(g.a,{message:"login.errors.PASSWORD_TOO_COMMON.title"}):null};this.renderSubmitButtonElement=(e,t)=>{const{invitation:s}=this.props;return t?Object(r.jsx)(M.a,{grow:!0,minHeight:"56px"}):Object(r.jsxs)(F.a,{type:"submit",use:"primary",className:"reset-submit",disabled:!e,children:[!s&&Object(r.jsx)(g.a,{message:"login.reset.form.submit"}),s&&Object(r.jsx)(g.a,{message:"login.newUser.continue"})]})};this.renderPasswordTooCommon=()=>this.props.isPasswordTooCommon?Object(r.jsx)(oe.a,{use:"inline",className:"text-left",titleText:Object(r.jsx)(W.a,{message:"login.errors.PASSWORD_TOO_COMMON.title"}),type:"danger",children:Object(r.jsx)(g.a,{message:"login.errors.PASSWORD_TOO_COMMON.body"})}):null;this.renderPasswordLeaked=()=>this.props.isPasswordLeaked?Object(r.jsxs)(oe.a,{use:"inline",className:"text-left",titleText:Object(r.jsx)(W.a,{message:"login.errors.PASSWORD_LEAKED.title"}),type:"danger",children:[Object(r.jsx)(g.a,{message:"login.errors.PASSWORD_LEAKED.body"}),Object(r.jsx)(ie.a,{url:ne.b})]}):null}render(){const{password:e,showingPassword:t}=this.state,{invitation:s,isPasswordLeaked:i,isPasswordTooCommon:o,submitting:n}=this.props,a=t?"text":"password",l=t?"login.form.hidePassword":"login.form.showPassword",c=this.submittable();return Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"text-center",children:[!s&&Object(r.jsx)(B.a,{height:150,className:"m-bottom-4",name:"keys"}),s&&Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:Object(r.jsx)(g.a,{message:"login.newUser.header"})}),Object(r.jsx)("p",{children:Object(r.jsx)(g.a,{message:"login.newUser.description"})})]}),this.renderPasswordLeaked(),this.renderPasswordTooCommon()]}),Object(r.jsxs)("form",{onSubmit:this.onFormSubmit,children:[s&&Object(r.jsx)(re,{givenNameInput:this.firstNameField(n),familyNameInput:this.lastNameField(n)}),Object(r.jsx)(D.a,{htmlFor:"password",label:Object(r.jsx)(g.a,{message:"login.reset.form.password"}),validationMessage:this.getValidationMessage(),error:i||o,help:Object(r.jsx)(F.a,{use:"link",onClick:this.onShowPasswordClick,children:Object(r.jsx)(g.a,{message:l})}),children:Object(r.jsx)(V.a,{id:"password",type:a,className:"m-bottom-2",value:this.state.password,onChange:this.handleInputChange.bind(null,"password"),disabled:n})}),Object(r.jsx)(_,{password:e}),this.renderSubmitButtonElement(c,n)]})]})}}ae.propTypes={onResetSubmit:l.a.func.isRequired,invitation:l.a.bool.isRequired,isPasswordLeaked:l.a.bool,isPasswordTooCommon:l.a.bool,resetError:l.a.func.isRequired,submitting:l.a.bool.isRequired};var le=s(163),ce=s(195);s.d(t,"TALON_INITIAL_VALUE",(function(){return de}));const de='{"version": 5, "status": -1}',ue={VALIDATING_URL:0,INVALID_URL:1,READY:2,SUCCESS:3,FAILURE:4,RETRY:5},he=new O.a,ge=new h.a({passThroughFallback:!0,loginRequest:he.changePassword.bind(he)});class me extends i.Component{constructor(e){super(e);const{search:t}=this.props.location,s=Object(o.parse)(t.substr(1)),{userName:r,token:i,loginRedirectUrl:n}=s;this.state={renderState:ue.VALIDATING_URL,error:"",email:r,token:i,loginRedirectUrl:n||"",requiresName:!1,submitting:!1};this.resetError=this.resetError.bind(this);this.onResetSubmit=this.onResetSubmit.bind(this);this.loginSuccessHandler=this.loginSuccessHandler.bind(this);this.renderStates=this.renderStates.bind(this);this.loginFailureHandler=this.loginFailureHandler.bind(this);this.renderInvalidUrl=this.renderInvalidUrl.bind(this);this.renderReady=this.renderReady.bind(this);this.renderFailure=this.renderFailure.bind(this);this.renderRequestAgain=this.renderRequestAgain.bind(this);this.__renderStatesCached=this.renderStates()}componentDidMount(){const{renderState:e,email:t,token:s}=this.state;e===ue.VALIDATING_URL&&ge.loginPrep().then(()=>he.isValidResetToken(t,s)).then(e=>{e.validToken?this.setState({renderState:ue.READY,requiresName:e.requiresName}):this.setState({renderState:ue.INVALID_URL})}).catch(e=>{console.error(`Status ${e.status}: ${e.statusText}`);this.setState({renderState:ue.INVALID_URL})})}componentDidUpdate(e,t){const{requiresName:s}=this.state;document.title=s?n.a.text("login.newUser.title"):n.a.text("login.reset.title");!t.requiresName&&s&&this.getTalonFingerprint()}getTalonFingerprint(){s.e(0).then(s.t.bind(null,465,7)).then(e=>{"function"==typeof e&&e()})}resetError(){this.setState({error:""})}onResetSubmit(e,t,s){this.setState({submitting:!0});const r={email:this.state.email,token:this.state.token},i=this.state.loginRedirectUrl;r.password=s;if(this.state.requiresName){r.firstName=e;r.lastName=t;document.getElementById("talon")&&(r.talon=document.getElementById("talon").value)}i.length>0&&(r.loginRedirectUrl=i);this.props.setCredentials({email:this.state.email,password:s});ge.login(r).then(this.loginSuccessHandler).catch(e=>this.loginFailureHandler(e))}loginSuccessHandler(e){this.setState({renderState:ue.SUCCESS});const{loginRedirectUrl:t}=this.state,s=e[0];setTimeout(()=>{if(s.status===j.a.TWO_FACTOR_REQUIRED){const{token:e,primary:r,secondary:i,backupCodesEnabled:n}=s;this.props.setTwoFactorMethod(e,r,i,n);const a="/two-factor?"+Object(o.stringify)({loginRedirectUrl:t});this.props.history.push(a)}else if(s.status===b.a.SSO_LOGIN_REQUIRED){const{hubId:e,requiredBy:r}=s,i="/sso?"+Object(o.stringify)({loginPortalId:e,required:!0,requiredBy:r,loginRedirectUrl:t});this.props.history.push(i)}else ge.redirectOnLoginSuccess(e)},2e3)}loginFailureHandler({code:e,responseText:t}){try{let e=ue.FAILURE;const s=JSON.parse(t).status;s===ce.a.SUSPICIOUS_USER_MUST_CONFIRM&&this.props.history.push("/confirm-to-login");"PASSWORD_LEAKED"!==s&&"TOO_COMMON"!==s||(e=ue.RETRY);this.setState({error:s,renderState:e,submitting:!1})}catch(e){this.setState({error:"RESET_UNAVAILABLE",renderState:ue.FAILURE})}console.error(`Status ${e}: ${t}`)}renderStates(){return{[ue.VALIDATING_URL]:this.renderValidatingUrl,[ue.INVALID_URL]:this.renderInvalidUrl,[ue.READY]:this.renderReady,[ue.SUCCESS]:this.renderSuccess,[ue.FAILURE]:this.renderFailure,[ue.RETRY]:this.renderReady}}renderValidatingUrl(){return Object(r.jsx)(x.a,{})}renderInvalidUrl(){return Object(r.jsxs)("div",{className:"text-center invalid-url",children:[Object(r.jsx)(B.a,{height:150,className:"m-bottom-4",name:"errors/general"}),Object(r.jsx)("h1",{children:Object(r.jsx)(g.a,{message:"login.reset.invalidUrl.header"})}),Object(r.jsx)("div",{className:"m-bottom-4",children:Object(r.jsx)(g.a,{message:"login.reset.invalidUrl.body"})}),Object(r.jsx)("div",{children:this.renderRequestAgain()})]})}renderReady(){return Object(r.jsx)(c.a,{name:"PASSWORD_RESET_LOAD",children:Object(r.jsxs)("div",{children:[Object(r.jsx)(ae,{onResetSubmit:this.onResetSubmit,invitation:this.state.requiresName,isPasswordLeaked:"PASSWORD_LEAKED"===this.state.error,isPasswordTooCommon:"TOO_COMMON"===this.state.error,submitting:this.state.submitting,resetError:this.resetError}),Object(r.jsx)("div",{children:this.state.requiresName&&this.renderTalonHiddenInput()})]})})}renderSuccess(){return Object(r.jsxs)("div",{className:"text-center",children:[Object(r.jsx)("div",{children:Object(r.jsx)(B.a,{height:150,className:"m-bottom-4",name:"success"})}),Object(r.jsx)(g.a,{message:"login.reset.success"})]})}renderFailure(){const{error:e}=this.state;return Object(r.jsxs)("div",{className:"text-center",children:[Object(r.jsx)(B.a,{height:150,className:"m-bottom-4",name:"errors/general"}),Object(r.jsx)(le.a,{error:e}),Object(r.jsx)("div",{className:"m-bottom-4",children:Object(r.jsx)(g.a,{message:"login.reset.failure"})}),Object(r.jsx)("div",{children:this.renderRequestAgain()})]})}renderRequestAgain(){const{email:e}=this.state;return Object(r.jsx)(m.a,{message:"login.reset.requestAgain.navigate",options:{link:Object(r.jsx)(u.a,{to:{pathname:"/forgot",search:"?"+Object(o.stringify)({email:e})},children:Object(r.jsx)(g.a,{message:"login.reset.requestAgain.here"})})}})}renderTalonHiddenInput(){return Object(r.jsx)("input",{id:"talon",name:"talon",type:"hidden",value:de})}render(){const{renderState:e}=this.state,t=this.__renderStatesCached[e];if(t)return t();console.error(`Unknown landing state ${e}. Cannot render.`);return null}}me.propTypes={location:l.a.object.isRequired,history:l.a.object.isRequired,setCredentials:l.a.func.isRequired,setTwoFactorMethod:l.a.func.isRequired};t.default=Object(d.connect)(null,{setCredentials:p.i,setTwoFactorMethod:p.l})(me)},588:function(e,t,s){"use strict";var r=s(12),i=s(10),o=s(57),n=s.n(o),a=s(56),l=s(64),c=s.n(l),d=s(14),u=s(63),h=s.n(u),g=s(121);const m=h()(g.a).withConfig({displayName:"H4",componentId:"uxcapt-0"})([""]);m.propTypes=g.a.propTypes;m.defaultProps=Object.assign({},g.a.defaultProps,{tagName:"h4"});m.displayName="H4";var p=m,b=s(107),j=s(185);const O=h()(g.a).withConfig({displayName:"H2",componentId:"sc-10ve6d6-0"})([""]);O.propTypes=g.a.propTypes;O.defaultProps=Object.assign({},g.a.defaultProps,{tagName:"h2"});O.displayName="H2";var x=O,R=s(184),S=s(203),f=s(100);const y=h.a.div.withConfig({displayName:"UISection__ScrollWrapper",componentId:"sc-1st8byf-0"})(["height:",";&&{",";}& >:last-child{margin-bottom:0;}"],({height:e})=>e&&Object(f.g)(e),({flush:e})=>e&&"margin-bottom: 0"),w=Object(a.forwardRef)((e,t)=>{const{className:s,use:o}=e,n=Object(r.a)(e,["className","use"]);return Object(i.jsx)(y,Object.assign({},n,{className:c()("is--module namespaced-hack-section",s,"island"===o&&"is--island"),ref:t}))});w.propTypes={children:n.a.node,flush:n.a.bool.isRequired,height:n.a.oneOfType([n.a.string,n.a.number]),use:n.a.oneOf(["default","island"]).isRequired};w.defaultProps={flush:!1,use:"default"};w.displayName="UISection";var C=w,N=s(204);const E=h()(C).withConfig({displayName:"UIResultsMessage__MessageOuter",componentId:"e2i14t-0"})(["text-align:center;"]),L=h()(S.a).withConfig({displayName:"UIResultsMessage__MessageImage",componentId:"e2i14t-1"})(["margin-bottom:40px;"]),T={width:175},I=e=>Object(a.isValidElement)(e)?e:Object(i.jsx)(x,{children:Object(R.a)(e)}),v=(e,t,s)=>e||s?Object(i.jsx)(s,Object.assign({name:e},T,{},t)):null;function q(e){const{Body:t="div",children:s,illustration:o,illustrationProps:n=T,Image:a=L,title:l}=e,c=Object(r.a)(e,["Body","children","illustration","illustrationProps","Image","title"]);return Object(i.jsxs)(E,Object.assign({},c,{role:"alert",use:"island",children:[v(o,n,a),l&&I(l),Object(i.jsx)(t,{children:s})]}))}q.propTypes={Body:n.a.elementType,children:n.a.node,illustration:Object(N.a)(),illustrationProps:n.a.object,Image:Object(b.a)(S.a),title:Object(j.a)(n.a.node)};q.defaultProps={Body:"div",Image:L,illustrationProps:T};q.displayName="UIResultsMessage";s.d(t,"a",(function(){return M}));const A={badRequest:{image:"errors/general",title:()=>d.a.text("ui.UIErrorMessage.badRequest.title")},error:{image:"errors/general",title:()=>d.a.text("ui.UIErrorMessage.error.title")},expired:{image:"errors/hourglass",title:()=>d.a.text("ui.UIErrorMessage.expired.title")},notFound:{image:"errors/map",title:()=>d.a.text("ui.UIErrorMessage.notFound.title")}},P=Object.assign({},A,{400:A.badRequest,403:A.expired,404:A.notFound,500:A.error}),U=e=>Object(i.jsx)("div",Object.assign({},e,{className:"private-error-msg__body"})),k=e=>Object(i.jsx)(q.defaultProps.Image,Object.assign({},e,{className:"private-error-msg__image"})),_=(e="error")=>P[e]||P.error,F={width:175},D=(e=P.error.title)=>Object(a.isValidElement)(e)&&e.type.isI18nElement?Object(i.jsx)(p,{className:"private-error-msg__title",children:e}):Object(a.isValidElement)(e)?e:Object(i.jsx)(p,{className:"private-error-msg__title",children:Object(R.a)(e)});function M(e){let{className:t,illustration:s,title:o,type:n}=e,a=Object(r.a)(e,["className","illustration","title","type"]);const{image:l,title:d}=_(n);return Object(i.jsx)(q,Object.assign({},a,{className:c()("private-error-msg",t),illustration:s||l,Image:k,title:D(o||d)}))}M.propTypes={Body:n.a.elementType,children:n.a.node,illustration:Object(N.a)(),illustrationProps:n.a.object,title:Object(j.a)(n.a.oneOfType([n.a.node,n.a.string])),type:n.a.oneOf(Object.keys(P))};M.defaultProps={Body:U,illustrationProps:F,type:"error"};M.displayName="UIErrorMessage"},591:function(e,t,s){"use strict";s.r(t);var r=s(10),i=s(56),o=s(57),n=s.n(o),a=s(572),l=s(27),c=s(146),d=s(165),u=s(610),h=s(611),g=s(148),m=s(617),p=s(203),b=s(577),j=s(328),O=s(596);const x="login.confirmToLogin.errors",R={isVerifyingCode:n.a.bool.isRequired,isRequestingCode:n.a.bool.isRequired,newCodeSentAlertVisible:n.a.bool.isRequired,dismissNewCodeSentAlert:n.a.func.isRequired,email:n.a.string,verificationCode:n.a.string,submittable:n.a.bool.isRequired,error:n.a.string};class S extends i.Component{constructor(...e){super(...e);this.renderSubmitButtonElement=()=>this.props.isVerifyingCode||this.props.isRequestingCode?Object(r.jsx)(h.a,{grow:!0,minHeight:"56px"}):Object(r.jsx)(u.a,{type:"submit",use:"primary",className:"width-100 login-submit",disabled:!this.props.submittable,children:Object(r.jsx)(g.a,{message:"login.form.button"})});this.renderNewCodeSentAlert=()=>{const{newCodeSentAlertVisible:e,dismissNewCodeSentAlert:t,email:s}=this.props;return e?Object(r.jsx)(m.a,{type:"success",closeable:!0,onClose:t,titleText:Object(r.jsx)(g.a,{message:"login.confirmToLogin.newCodeSuccess.title"}),children:Object(r.jsx)(c.a,{message:"login.confirmToLogin.newCodeSuccess.body",options:{email:s}})}):null};this.renderError=()=>{const{error:e}=this.props;if(!e)return null;const t=`${x}.${e}`;return Object(r.jsx)(m.a,{use:"inline",className:"text-left",titleText:Object(r.jsx)(g.a,{message:t+".title"}),type:"danger","data-error-type":e,children:Object(r.jsx)(c.a,{message:t+".body"})})};this.renderIllustration=()=>Object(r.jsx)(p.a,{name:"email-confirmation",width:"100%"})}render(){const{isVerifyingCode:e,isRequestingCode:t,email:s,onGetNewCode:i,onReturnToLogin:o,verificationCode:n}=this.props,a=Object(r.jsx)(d.a,{options:{email:s},message:"login.confirmToLogin.headerWithEmail_jsx",elements:{TruncateString:O.a}}),l=Object(r.jsx)(c.a,{message:"login.confirmToLogin.body"});return Object(r.jsx)(b.a,{keyWord:j.a,header:a,description:l,codeLength:6,newCodeSentAlertVisible:this.props.newCodeSentAlertVisible,dismissNewCodeSentAlert:this.props.dismissNewCodeSentAlert,email:this.props.email,renderSubmitButton:this.renderSubmitButtonElement,renderIllustration:this.renderIllustration,onGetNewCode:i,onReturnToLogin:o,isVerifying:e,isRequestingCode:t,inputValue:n,onCodeChange:this.props.onCodeChange,error:this.props.error,onSubmit:this.props.onCodeSubmit})}}S.propTypes=Object.assign({},R,{onCodeSubmit:n.a.func.isRequired,onCodeChange:n.a.func.isRequired,onGetNewCode:n.a.func.isRequired,onReturnToLogin:n.a.func.isRequired});var f=s(43),y=s(607),w=s(45),C=s(172),N=s(164);const E="login.confirmToLogin.errors",L="GENERIC",T=/^[0-9]{6}$/,I=e=>e.confirmToLogin.verificationCode,v=e=>e.confirmToLogin.verifyVerificationCodeState,q=e=>e.confirmToLogin.sendVerificationCodeState,A=e=>e.twoFactorAuth.rememberLogin,P=e=>e.confirmToLogin.verificationCodeError,U=Object(C.a)([v],w.e),k=Object(C.a)([v],w.b),_=Object(C.a)([q],w.e),F=Object(C.a)([q],w.f),D=Object(C.a)([I,k],(e,t)=>T.test(e||"")&&!t),M=Object(C.a)([P],e=>{if(!e)return null;const t=e.responseText&&JSON.parse(e.responseText);let s=t.errorType||t.status||L;const r=`${E}.${s}`;Object(N.a)(r+".title")||(s=L);return s});var V=s(171),B=s(33);class W extends i.Component{constructor(e){super(e);this.onCodeSubmit=e=>{e.preventDefault();const{email:t,password:s,verificationCode:r,verifyCode:i,rememberLogin:o,token:n}=this.props;i({loginRedirectUrl:this.state.loginRedirectUrl,verificationCode:r,email:t,password:s,rememberLogin:o,token:n,loginPortalId:this.state.loginPortalId})};this.onCodeChange=e=>{this.props.updateCode(e.target.value)};this.onGetNewCode=()=>{const{sendNewCode:e,email:t,password:s,token:r}=this.props;e({email:t,password:s,token:r})};this.onReturnToLogin=()=>{this.props.resetPage();this.props.history.push("/")};const{search:t}=e.location,s=Object(f.parse)(t.substr(1)),{loginRedirectUrl:r,loginPortalId:i}=Object(B.b)(s);this.state={loginRedirectUrl:r||"",loginPortalId:i}}componentDidMount(){this.props.email||this.props.token||this.props.history.push("/")}render(){return Object(r.jsx)(a.a,{name:"CONFIRM_TO_LOGIN_LOAD",children:Object(r.jsx)(S,Object.assign({onCodeSubmit:this.onCodeSubmit,onCodeChange:this.onCodeChange,onGetNewCode:this.onGetNewCode,onReturnToLogin:this.onReturnToLogin},this.props))})}}W.propTypes=Object.assign({},R,{sendNewCode:n.a.func.isRequired,location:n.a.object.isRequired,history:n.a.object.isRequired,password:n.a.string,verifyCode:n.a.func.isRequired,updateCode:n.a.func.isRequired,resetPage:n.a.func.isRequired,rememberLogin:n.a.bool.isRequired,token:n.a.string});const $=e=>({email:Object(V.d)(e),password:Object(V.q)(e),verificationCode:I(e),isVerifyingCode:U(e),isRequestingCode:_(e),newCodeSentAlertVisible:F(e),error:M(e),submittable:D(e),rememberLogin:A(e),token:Object(V.u)(e)}),G=Object(l.connect)($,{sendNewCode:y.d,dismissNewCodeSentAlert:y.b,verifyCode:y.f,updateCode:y.e,resetPage:y.c});t.default=G(W)},592:function(e,t,s){"use strict";s.r(t);var r=s(10),i=s(56),o=s(14),n=s(165),a=s(148),l=s(608),c=s(57),d=s.n(c),u=s(27),h=s(43),g=s(588),m=s(609),p=s(196),b=s(30),j=s.n(b);class O{static echoCsrf(){return j.a.get("/login-api/v1/app-csrf-echo/app")}}var x=O,R=s(33),S=s(572),f=s(334);const y="/login-api/v1/redirect";class w{validateRedirect(e,t){return j.a.get(y+"/validate",{query:{loginRedirectUrl:e,loginPortalId:t}})}}var C=w,N=s(54),E=s(195),L=s(170),T=s(569),I=s(200);const v=new f.a,q=new l.a({loginRequest:(e,t)=>x.echoCsrf(t)}),A=new l.a({loginRequest:v.completeAcsLogin.bind(v)}),P=new C,U=e=>Object(T.g)("/login/beta",e);class k extends i.Component{constructor(e){super(e);this.onRetry=()=>{const{loginRedirectUrl:e}=this.state,t="/sso?"+Object(h.stringify)({loginRedirectUrl:e});this.props.history.push(t)};this.handleLoginSuccess=()=>{const{loginRedirectUrl:e,loginPortalId:t}=this.state;return P.validateRedirect(e,t).then(e=>{if(window.opener&&"ssoLoginPopup"===window.name){window.opener.postMessage(e.loginRedirectUrl,U("app"));window.opener.postMessage(e.loginRedirectUrl,U("app-eu1"));window.close()}else q.redirectOnLoginSuccess([{redirectUrl:e.loginRedirectUrl}])})};this.handleLoginFailure=()=>{this.setState({errored:!0,submitting:!1})};this.handleSamlLoginToken=()=>{const{samlLoginToken:e}=this.state;A.login({samlLoginToken:e}).then(this.handleSuccessfulSsoAcsLogin).catch(this.handleLoginFailure)};this.handlePopupWithLV=(e,t,s)=>{const r={type:I.d,nextPath:e,method:t,lvState:s};window.opener.postMessage(r,U("app"));window.opener.postMessage(r,U("app-eu1"));window.close()};this.handleSuccessfulSsoAcsLogin=e=>{const t=e[0];if(t.status===N.a.TWO_FACTOR_REQUIRED)this.handleTwoFactorRequiredSsoLogin(t);else if(t.status===E.a.SUSPICIOUS_USER_MUST_CONFIRM)this.handleSuspiciousUserMustConfirmSsoLogin(t);else if(window.opener&&"ssoLoginPopup"===window.name){const t={type:I.e,url:e[0].redirectUrl};window.opener.postMessage(t,U("app"));window.opener.postMessage(t,U("app-eu1"));window.close()}else A.redirectOnLoginSuccess(e)};this.handleTwoFactorRequiredSsoLogin=e=>{const{email:t,token:s,primary:r,secondary:i,backupCodesEnabled:o,loginPortalId:n,loginRedirectUrl:a}=e;this.props.setTwoFactorMethod(s,r,i,o);const l="/two-factor?"+Object(h.stringify)({loginPortalId:n,loginRedirectUrl:a});this.props.setCredentials({email:t});if(window.opener&&"ssoLoginPopup"===window.name){const e={email:t,token:s,primary:r,secondary:i,backupCodesEnabled:o};this.handlePopupWithLV(l,I.g,e)}else this.props.history.push(l)};this.handleSuspiciousUserMustConfirmSsoLogin=e=>{const{token:t,email:s,loginPortalId:r,loginRedirectUrl:i}=e;this.props.setTwoFactorMethod(t,null,null,!1);this.props.setCredentials({email:s});const o="/confirm-to-login?"+Object(h.stringify)({loginRedirectUrl:i,loginPortalId:r});if(window.opener&&"ssoLoginPopup"===window.name){const e={token:t,email:s};this.handlePopupWithLV(o,I.f,e)}else this.props.history.push(o)};this.renderLoading=()=>Object(r.jsx)(S.a,{name:"SSO_COMPLETE_LOAD",children:Object(r.jsx)("div",{className:"text-center",children:Object(r.jsx)(p.a,{message:"sso"})})});this.renderErrored=()=>Object(r.jsx)(S.a,{name:"SSO_COMPLETE_ERROR",children:Object(r.jsxs)(g.a,{title:o.a.text("login.sso.completion.error.title"),type:"badRequest",children:[!window.opener&&Object(r.jsx)("p",{children:Object(r.jsx)(n.a,{elements:{Link:m.a},message:"login.sso.completion.error.retry_jsx",options:{onClick:this.onRetry}})}),Object(r.jsx)("p",{children:Object(r.jsx)(a.a,{message:"login.sso.completion.error.description"})})]})});const{search:t}=e.location,s=Object(h.parse)(t.substr(1)),{loginRedirectUrl:i,loginPortalId:l,samlLoginToken:c}=Object(R.b)(s);this.state={errored:!1,loginRedirectUrl:i,loginPortalId:l,submitting:!0,samlLoginToken:c}}componentDidMount(){this.state.samlLoginToken?this.handleSamlLoginToken():q.login({}).then(this.handleLoginSuccess).catch(this.handleLoginFailure)}render(){const{errored:e,submitting:t}=this.state;return t?this.renderLoading():e?this.renderErrored():null}}k.propTypes={location:d.a.object.isRequired,history:d.a.object.isRequired,setTwoFactorMethod:d.a.func.isRequired,setCredentials:d.a.func.isRequired};t.default=Object(u.connect)(null,{setTwoFactorMethod:L.l,setCredentials:L.i})(k)},604:function(e,t,s){"use strict";s.r(t);var r=s(10),i=s(56),o=s(608),n=s(57),a=s.n(n),l=s(572),c=s(27),d=s(43),u=s(148),h=s(617),g=s(610),m=s(585),p=s(612),b=s(609),j=s(611),O=s(163);class x extends i.Component{constructor(...e){super(...e);this.state={emailFocused:!1};this.onEmailBlur=()=>{this.setState({emailFocused:!1})};this.onEmailFocus=()=>{this.setState({emailFocused:!0})};this.onSubmit=e=>{e.preventDefault();this.props.onSubmit()};this.renderTitle=()=>Object(r.jsx)("div",{className:"text-center m-bottom-4",children:Object(r.jsx)(u.a,{message:"login.form.sso.title"})});this.renderRequiredAlert=()=>{const{portalId:e,required:t,requiredBy:s}=this.props;return t&&e?Object(r.jsx)(h.a,{"data-test-id":"sso-required-alert",titleText:Object(r.jsx)(u.a,{message:"login.form.sso.required.title",options:{portalId:e}}),children:Object(r.jsx)(u.a,{message:"login.form.sso.required."+(s?"description":"descriptionWithoutUser"),options:{requiredBy:s}})}):null};this.renderEmailFormControl=(e,t,s,i,o)=>{const n=""!==e&&!t&&!s;return Object(r.jsx)("div",{children:Object(r.jsx)(m.a,{htmlFor:"username",className:"m-bottom-4",label:Object(r.jsx)(u.a,{message:"login.form.email"}),error:n,validationMessage:n&&Object(r.jsx)(u.a,{message:"login.formValidation.invalidEmail"}),children:Object(r.jsx)(p.a,{autoFocus:!0,className:"login-email",disabled:i,id:"username",onBlur:this.onEmailBlur,onChange:this.props.onEmailChange,onFocus:this.onEmailFocus,tabIndex:"1",type:"email",value:e,use:o?"on-dark":"default"})})})};this.renderLoginButton=(e,t)=>t?Object(r.jsx)(j.a,{grow:!0,minHeight:"56px"}):Object(r.jsx)(g.a,{id:"loginBtn",type:"submit",use:"primary",className:"m-bottom-4 login-submit",disabled:!e,children:Object(r.jsx)(u.a,{message:"login.form.button"})});this.renderBackLink=()=>Object(r.jsxs)("div",{className:"text-center",children:[Object(r.jsx)("hr",{}),Object(r.jsx)(b.a,{"data-test-id":"sso-back-link",onClick:this.props.onBackClick,children:Object(r.jsx)(u.a,{message:"login.form.otherMethods"})})]});this.renderError=()=>{const{isValidationError:e,loginError:t,loginErrorDetails:s}=this.props;return t?Object(r.jsx)(O.a,{details:s,error:t,fallbackError:e?"UNKNOWN_ERROR":"LOGIN_UNAVAILABLE",prefix:e?"login.errors.samlValidation":"login.errors"}):null}}render(){const{email:e,emailValid:t,submitting:s,useDark:i}=this.props,{emailFocused:o}=this.state,n=!s&&t;return Object(r.jsxs)("form",{id:"hs-login",onSubmit:this.onSubmit,children:[this.renderTitle(),this.renderError(),this.renderRequiredAlert(),this.renderEmailFormControl(e,o,t,s,i),this.renderLoginButton(n,s),this.renderBackLink()]})}}x.propTypes={email:a.a.string.isRequired,emailValid:a.a.bool.isRequired,isValidationError:a.a.bool.isRequired,loginError:a.a.string,loginErrorDetails:a.a.objectOf(a.a.string),onBackClick:a.a.func.isRequired,onEmailChange:a.a.func.isRequired,onSubmit:a.a.func.isRequired,portalId:a.a.string,required:a.a.bool.isRequired,requiredBy:a.a.string,submitting:a.a.bool.isRequired,useDark:a.a.bool.isRequired};var R=s(334),S=s(33),f=s(192),y=s(171);const w=new o.a({passThroughFallback:!0}),C=new R.a,N=e=>{const t=e.startsWith("VALIDATION_");let s=e;t&&(s=s.replace(/^VALIDATION_/,""));return{isValidationError:t,loginError:s}};class E extends i.Component{constructor(e){super(e);this.onBackClick=()=>{const{email:e,loginPortalId:t,loginRedirectUrl:s}=this.state,r={loginPortalId:t,loginRedirectUrl:s,ignoreSsoRequired:!0};e&&""!==e&&(r.email=e);const i="/?"+Object(d.stringify)(r);this.props.history.push(i)};this.onEmailChange=e=>{this.setState({email:e.target.value})};this.onSubmit=()=>{const{email:e,forceAuth:t,loginPortalId:s,loginRedirectUrl:r}=this.state;this.setState({loginError:"",loginErrorDetails:{},submitting:!0});C.startLogin({email:e,forceAuth:t,loginPortalId:s,loginRedirectUrl:r}).then(this.handleLoginSuccess).catch(f.a.create(this.handleLoginFailure,this.props.history.push))};this.handleLoginSuccess=e=>w.redirectOnLoginSuccess([e]);this.handleLoginFailure=e=>{this.setState({loginError:e,submitting:!1})};this.isEmailValid=()=>{const{email:e}=this.state;return!!e&&Object(S.d)(e)};const{search:t}=e.location,s=Object(d.parse)(t.substr(1)),{loginPortalId:r,loginRedirectUrl:i}=Object(S.b)(s),o=s,{email:n,required:a,requiredBy:l,useDark:c}=o,u=o.ssoLoginError||"",h={};for(const e in o)e.startsWith("errorDetail:")&&(h[e.replace(/^errorDetail:/,"")]=o[e]);this.state={email:n||e.email||"",forceAuth:!(!u||"SAML_MISMATCHED_EMAIL"!==u),loginError:u,loginErrorDetails:h,loginPortalId:r,loginRedirectUrl:i,required:"true"===a||!1,requiredBy:l,submitting:!1,useDark:"true"===c}}render(){const{email:e,loginPortalId:t,loginErrorDetails:s,required:i,requiredBy:o,submitting:n,useDark:a}=this.state,{isValidationError:c,loginError:d}=N(this.state.loginError);return Object(r.jsx)(l.a,{name:"SSO_LOAD",children:Object(r.jsx)(x,{email:e,emailValid:this.isEmailValid(),isValidationError:c,loginError:d,loginErrorDetails:s,onBackClick:this.onBackClick,onEmailChange:this.onEmailChange,onSubmit:this.onSubmit,portalId:t,required:i,requiredBy:o,submitting:n,useDark:a})})}}E.propTypes={location:a.a.object.isRequired,history:a.a.object.isRequired,email:a.a.string};const L=e=>({email:Object(y.d)(e)});t.default=Object(c.connect)(L,{})(E)}}]);
//# sourceMappingURL=//static.hsappstatic.net/LoginUI/static-1.8857/chunk-Extra.js.map